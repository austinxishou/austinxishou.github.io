<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
	<meta name="360-site-verification" content="f623c899b6306a6a416f749df60d39a5" />
	<meta name="sogou_site_verification" content="b2uCFUinvb"/>
	<meta name="baidu-site-verification" content="rK8VXMxyIo" />
    <meta name="msvalidate.01" content="186DAE121CE0F450E8D9A2F19F861729" />
    <meta http-equiv="content-language" content="zh-cn">
    <title>Krpano-skin 皮肤详解及配置说明 | 爵士犀首 | Talk is cheap, show me the code!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="krpano">

    <meta name="description" content="Krpano skin">
<meta property="og:type" content="article">
<meta property="og:title" content="Krpano-skin 皮肤详解及配置说明">
<meta property="og:url" content="https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/index.html">
<meta property="og:site_name" content="爵士犀首">
<meta property="og:description" content="Krpano skin">
<meta property="og:updated_time" content="2017-11-06T07:06:49.282Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Krpano-skin 皮肤详解及配置说明">
<meta name="twitter:description" content="Krpano skin">
    
        <link rel="alternative" href="/atom.xml" title="爵士犀首" type="application/atom+xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.4.14">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">AustinXishou</h5>
          <a href="mailto:3559956089@qq.com" title="3559956089@qq.com" class="mail">3559956089@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/android"  >
                <i class="icon icon-lg icon-android"></i>
                Android
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/webdesign"  >
                <i class="icon icon-lg icon-chrome"></i>
                Webdesign
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/wechat"  >
                <i class="icon icon-lg icon-wechat"></i>
                微信开发
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/killtime"  >
                <i class="icon icon-lg icon-coffee"></i>
                闲暇时光
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/austinxishou" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Krpano-skin 皮肤详解及配置说明</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Krpano-skin 皮肤详解及配置说明</h1>
        <h5 class="subtitle">
            
                <time datetime="2017-11-06T06:16:00.934Z" itemprop="datePublished" class="page-time">
  2017-11-06
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/krpano/">krpano</a></li></ul>

            
        </h5>
    </div>

    

</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#简单例子"><span class="post-toc-number">1.</span> <span class="post-toc-text">简单例子</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#XML配置详解"><span class="post-toc-number">2.</span> <span class="post-toc-text">XML配置详解</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-krpano/krpano-skin-develop"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Krpano-skin 皮肤详解及配置说明</h1>
        <div class="post-meta">
            <time class="post-time" title="2017年11月06日 14:16" datetime="2017-11-06T06:16:00.934Z"  itemprop="datePublished">2017-11-06</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/krpano/">krpano</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="简单例子"><a href="#简单例子" class="headerlink" title="简单例子"></a>简单例子</h2><blockquote>
<p>自动旋转播放</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">plugin</span> <span class="attr">name</span>"<span class="attr">autorotatebutton</span>"</span></div><div class="line">        <span class="attr">url</span>=<span class="string">"autorotatebuttonimage.png"</span></div><div class="line">        <span class="attr">align</span>=<span class="string">"bottom"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"10"</span></div><div class="line">        <span class="attr">onclick</span>=<span class="string">"switch(autorotate.enabled);"</span></div><div class="line">        /&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>全屏切换<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">plugin</span> <span class="attr">name</span>"<span class="attr">fullscreenbutton</span>"</span></div><div class="line">        <span class="attr">url</span>=<span class="string">"fullscreenbuttonimage.png"</span></div><div class="line">        <span class="attr">align</span>=<span class="string">"bottomright"</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"10"</span></div><div class="line">        <span class="attr">onclick</span>=<span class="string">"switch(fullscreen);"</span></div><div class="line">        /&gt;</div></pre></td></tr></table></figure></p>
<p>帮助图文菜单<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">plugin</span> <span class="attr">name</span>"<span class="attr">helpimage</span>"</span></div><div class="line">        <span class="attr">url</span>=<span class="string">"help.png"</span></div><div class="line">        <span class="attr">align</span>=<span class="string">"center"</span> </div><div class="line">        <span class="attr">visible</span>=<span class="string">"false"</span></div><div class="line">        <span class="attr">onclick</span>=<span class="string">"set(visible,false);"</span></div><div class="line">        /&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">plugin</span> <span class="attr">name</span>"<span class="attr">helpbutton</span>"</span></div><div class="line">        <span class="attr">url</span>=<span class="string">"helpbuttonimage.png"</span></div><div class="line">        <span class="attr">align</span>=<span class="string">"leftbottom"</span> <span class="attr">x</span>=<span class="string">"10"</span> <span class="attr">y</span>=<span class="string">"10"</span></div><div class="line">        <span class="attr">onclick</span>=<span class="string">"switch(plugin[helpimage].visible);"</span></div><div class="line">        /&gt;</div></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="XML配置详解"><a href="#XML配置详解" class="headerlink" title="XML配置详解"></a>XML配置详解</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div><div class="line">221</div><div class="line">222</div><div class="line">223</div><div class="line">224</div><div class="line">225</div><div class="line">226</div><div class="line">227</div><div class="line">228</div><div class="line">229</div><div class="line">230</div><div class="line">231</div><div class="line">232</div><div class="line">233</div><div class="line">234</div><div class="line">235</div><div class="line">236</div><div class="line">237</div><div class="line">238</div><div class="line">239</div><div class="line">240</div><div class="line">241</div><div class="line">242</div><div class="line">243</div><div class="line">244</div><div class="line">245</div><div class="line">246</div><div class="line">247</div><div class="line">248</div><div class="line">249</div><div class="line">250</div><div class="line">251</div><div class="line">252</div><div class="line">253</div><div class="line">254</div><div class="line">255</div><div class="line">256</div><div class="line">257</div><div class="line">258</div><div class="line">259</div><div class="line">260</div><div class="line">261</div><div class="line">262</div><div class="line">263</div><div class="line">264</div><div class="line">265</div><div class="line">266</div><div class="line">267</div><div class="line">268</div><div class="line">269</div><div class="line">270</div><div class="line">271</div><div class="line">272</div><div class="line">273</div><div class="line">274</div><div class="line">275</div><div class="line">276</div><div class="line">277</div><div class="line">278</div><div class="line">279</div><div class="line">280</div><div class="line">281</div><div class="line">282</div><div class="line">283</div><div class="line">284</div><div class="line">285</div><div class="line">286</div><div class="line">287</div><div class="line">288</div><div class="line">289</div><div class="line">290</div><div class="line">291</div><div class="line">292</div><div class="line">293</div><div class="line">294</div><div class="line">295</div><div class="line">296</div><div class="line">297</div><div class="line">298</div><div class="line">299</div><div class="line">300</div><div class="line">301</div><div class="line">302</div><div class="line">303</div><div class="line">304</div><div class="line">305</div><div class="line">306</div><div class="line">307</div><div class="line">308</div><div class="line">309</div><div class="line">310</div><div class="line">311</div><div class="line">312</div><div class="line">313</div><div class="line">314</div><div class="line">315</div><div class="line">316</div><div class="line">317</div><div class="line">318</div><div class="line">319</div><div class="line">320</div><div class="line">321</div><div class="line">322</div><div class="line">323</div><div class="line">324</div><div class="line">325</div><div class="line">326</div><div class="line">327</div><div class="line">328</div><div class="line">329</div><div class="line">330</div><div class="line">331</div><div class="line">332</div><div class="line">333</div><div class="line">334</div><div class="line">335</div><div class="line">336</div><div class="line">337</div><div class="line">338</div><div class="line">339</div><div class="line">340</div><div class="line">341</div><div class="line">342</div><div class="line">343</div><div class="line">344</div><div class="line">345</div><div class="line">346</div><div class="line">347</div><div class="line">348</div><div class="line">349</div><div class="line">350</div><div class="line">351</div><div class="line">352</div><div class="line">353</div><div class="line">354</div><div class="line">355</div><div class="line">356</div><div class="line">357</div><div class="line">358</div><div class="line">359</div><div class="line">360</div><div class="line">361</div><div class="line">362</div><div class="line">363</div><div class="line">364</div><div class="line">365</div><div class="line">366</div><div class="line">367</div><div class="line">368</div><div class="line">369</div><div class="line">370</div><div class="line">371</div><div class="line">372</div><div class="line">373</div><div class="line">374</div><div class="line">375</div><div class="line">376</div><div class="line">377</div><div class="line">378</div><div class="line">379</div><div class="line">380</div><div class="line">381</div><div class="line">382</div><div class="line">383</div><div class="line">384</div><div class="line">385</div><div class="line">386</div><div class="line">387</div><div class="line">388</div><div class="line">389</div><div class="line">390</div><div class="line">391</div><div class="line">392</div><div class="line">393</div><div class="line">394</div><div class="line">395</div><div class="line">396</div><div class="line">397</div><div class="line">398</div><div class="line">399</div><div class="line">400</div><div class="line">401</div><div class="line">402</div><div class="line">403</div><div class="line">404</div><div class="line">405</div><div class="line">406</div><div class="line">407</div><div class="line">408</div><div class="line">409</div><div class="line">410</div><div class="line">411</div><div class="line">412</div><div class="line">413</div><div class="line">414</div><div class="line">415</div><div class="line">416</div><div class="line">417</div><div class="line">418</div><div class="line">419</div><div class="line">420</div><div class="line">421</div><div class="line">422</div><div class="line">423</div><div class="line">424</div><div class="line">425</div><div class="line">426</div><div class="line">427</div><div class="line">428</div><div class="line">429</div><div class="line">430</div><div class="line">431</div><div class="line">432</div><div class="line">433</div><div class="line">434</div><div class="line">435</div><div class="line">436</div><div class="line">437</div><div class="line">438</div><div class="line">439</div><div class="line">440</div><div class="line">441</div><div class="line">442</div><div class="line">443</div><div class="line">444</div><div class="line">445</div><div class="line">446</div><div class="line">447</div><div class="line">448</div><div class="line">449</div><div class="line">450</div><div class="line">451</div><div class="line">452</div><div class="line">453</div><div class="line">454</div><div class="line">455</div><div class="line">456</div><div class="line">457</div><div class="line">458</div><div class="line">459</div><div class="line">460</div><div class="line">461</div><div class="line">462</div><div class="line">463</div><div class="line">464</div><div class="line">465</div><div class="line">466</div><div class="line">467</div><div class="line">468</div><div class="line">469</div><div class="line">470</div><div class="line">471</div><div class="line">472</div><div class="line">473</div><div class="line">474</div><div class="line">475</div><div class="line">476</div><div class="line">477</div><div class="line">478</div><div class="line">479</div><div class="line">480</div><div class="line">481</div><div class="line">482</div><div class="line">483</div><div class="line">484</div><div class="line">485</div><div class="line">486</div><div class="line">487</div><div class="line">488</div><div class="line">489</div><div class="line">490</div><div class="line">491</div><div class="line">492</div><div class="line">493</div><div class="line">494</div><div class="line">495</div><div class="line">496</div><div class="line">497</div><div class="line">498</div><div class="line">499</div><div class="line">500</div><div class="line">501</div><div class="line">502</div><div class="line">503</div><div class="line">504</div><div class="line">505</div><div class="line">506</div><div class="line">507</div><div class="line">508</div><div class="line">509</div><div class="line">510</div><div class="line">511</div><div class="line">512</div><div class="line">513</div><div class="line">514</div><div class="line">515</div><div class="line">516</div><div class="line">517</div><div class="line">518</div><div class="line">519</div><div class="line">520</div><div class="line">521</div><div class="line">522</div><div class="line">523</div><div class="line">524</div><div class="line">525</div><div class="line">526</div><div class="line">527</div><div class="line">528</div><div class="line">529</div><div class="line">530</div><div class="line">531</div><div class="line">532</div><div class="line">533</div><div class="line">534</div><div class="line">535</div><div class="line">536</div><div class="line">537</div><div class="line">538</div><div class="line">539</div><div class="line">540</div><div class="line">541</div><div class="line">542</div><div class="line">543</div><div class="line">544</div><div class="line">545</div><div class="line">546</div><div class="line">547</div><div class="line">548</div><div class="line">549</div><div class="line">550</div><div class="line">551</div><div class="line">552</div><div class="line">553</div><div class="line">554</div><div class="line">555</div><div class="line">556</div><div class="line">557</div><div class="line">558</div><div class="line">559</div><div class="line">560</div><div class="line">561</div><div class="line">562</div><div class="line">563</div><div class="line">564</div><div class="line">565</div><div class="line">566</div><div class="line">567</div><div class="line">568</div><div class="line">569</div><div class="line">570</div><div class="line">571</div><div class="line">572</div><div class="line">573</div><div class="line">574</div><div class="line">575</div><div class="line">576</div><div class="line">577</div><div class="line">578</div><div class="line">579</div><div class="line">580</div><div class="line">581</div><div class="line">582</div><div class="line">583</div><div class="line">584</div><div class="line">585</div><div class="line">586</div><div class="line">587</div><div class="line">588</div><div class="line">589</div><div class="line">590</div><div class="line">591</div><div class="line">592</div><div class="line">593</div><div class="line">594</div><div class="line">595</div><div class="line">596</div><div class="line">597</div><div class="line">598</div><div class="line">599</div><div class="line">600</div><div class="line">601</div><div class="line">602</div><div class="line">603</div><div class="line">604</div><div class="line">605</div><div class="line">606</div><div class="line">607</div><div class="line">608</div><div class="line">609</div><div class="line">610</div><div class="line">611</div><div class="line">612</div><div class="line">613</div><div class="line">614</div><div class="line">615</div><div class="line">616</div><div class="line">617</div><div class="line">618</div><div class="line">619</div><div class="line">620</div><div class="line">621</div><div class="line">622</div><div class="line">623</div><div class="line">624</div><div class="line">625</div><div class="line">626</div><div class="line">627</div><div class="line">628</div><div class="line">629</div><div class="line">630</div><div class="line">631</div><div class="line">632</div><div class="line">633</div><div class="line">634</div><div class="line">635</div><div class="line">636</div><div class="line">637</div><div class="line">638</div><div class="line">639</div><div class="line">640</div><div class="line">641</div><div class="line">642</div><div class="line">643</div><div class="line">644</div><div class="line">645</div><div class="line">646</div><div class="line">647</div><div class="line">648</div><div class="line">649</div><div class="line">650</div><div class="line">651</div><div class="line">652</div><div class="line">653</div><div class="line">654</div><div class="line">655</div><div class="line">656</div><div class="line">657</div><div class="line">658</div><div class="line">659</div><div class="line">660</div><div class="line">661</div><div class="line">662</div><div class="line">663</div><div class="line">664</div><div class="line">665</div><div class="line">666</div><div class="line">667</div><div class="line">668</div><div class="line">669</div><div class="line">670</div><div class="line">671</div><div class="line">672</div><div class="line">673</div><div class="line">674</div><div class="line">675</div><div class="line">676</div><div class="line">677</div><div class="line">678</div><div class="line">679</div><div class="line">680</div><div class="line">681</div><div class="line">682</div><div class="line">683</div><div class="line">684</div><div class="line">685</div><div class="line">686</div><div class="line">687</div><div class="line">688</div><div class="line">689</div><div class="line">690</div><div class="line">691</div><div class="line">692</div><div class="line">693</div><div class="line">694</div><div class="line">695</div><div class="line">696</div><div class="line">697</div><div class="line">698</div><div class="line">699</div><div class="line">700</div><div class="line">701</div><div class="line">702</div><div class="line">703</div><div class="line">704</div><div class="line">705</div><div class="line">706</div><div class="line">707</div><div class="line">708</div><div class="line">709</div><div class="line">710</div><div class="line">711</div><div class="line">712</div><div class="line">713</div><div class="line">714</div><div class="line">715</div><div class="line">716</div><div class="line">717</div><div class="line">718</div><div class="line">719</div><div class="line">720</div><div class="line">721</div><div class="line">722</div><div class="line">723</div><div class="line">724</div><div class="line">725</div><div class="line">726</div><div class="line">727</div><div class="line">728</div><div class="line">729</div><div class="line">730</div><div class="line">731</div><div class="line">732</div><div class="line">733</div><div class="line">734</div><div class="line">735</div><div class="line">736</div><div class="line">737</div><div class="line">738</div><div class="line">739</div><div class="line">740</div><div class="line">741</div><div class="line">742</div><div class="line">743</div><div class="line">744</div><div class="line">745</div><div class="line">746</div><div class="line">747</div><div class="line">748</div><div class="line">749</div><div class="line">750</div><div class="line">751</div><div class="line">752</div><div class="line">753</div><div class="line">754</div><div class="line">755</div><div class="line">756</div><div class="line">757</div><div class="line">758</div><div class="line">759</div><div class="line">760</div><div class="line">761</div><div class="line">762</div><div class="line">763</div><div class="line">764</div><div class="line">765</div><div class="line">766</div><div class="line">767</div><div class="line">768</div><div class="line">769</div><div class="line">770</div><div class="line">771</div><div class="line">772</div><div class="line">773</div><div class="line">774</div><div class="line">775</div><div class="line">776</div><div class="line">777</div><div class="line">778</div><div class="line">779</div><div class="line">780</div><div class="line">781</div><div class="line">782</div><div class="line">783</div><div class="line">784</div><div class="line">785</div><div class="line">786</div><div class="line">787</div><div class="line">788</div><div class="line">789</div><div class="line">790</div><div class="line">791</div><div class="line">792</div><div class="line">793</div><div class="line">794</div><div class="line">795</div><div class="line">796</div><div class="line">797</div><div class="line">798</div><div class="line">799</div><div class="line">800</div><div class="line">801</div><div class="line">802</div><div class="line">803</div><div class="line">804</div><div class="line">805</div><div class="line">806</div><div class="line">807</div><div class="line">808</div><div class="line">809</div><div class="line">810</div><div class="line">811</div><div class="line">812</div><div class="line">813</div><div class="line">814</div><div class="line">815</div><div class="line">816</div><div class="line">817</div><div class="line">818</div><div class="line">819</div><div class="line">820</div><div class="line">821</div><div class="line">822</div><div class="line">823</div><div class="line">824</div><div class="line">825</div><div class="line">826</div><div class="line">827</div><div class="line">828</div><div class="line">829</div><div class="line">830</div><div class="line">831</div><div class="line">832</div><div class="line">833</div><div class="line">834</div><div class="line">835</div><div class="line">836</div><div class="line">837</div><div class="line">838</div><div class="line">839</div><div class="line">840</div><div class="line">841</div><div class="line">842</div><div class="line">843</div><div class="line">844</div><div class="line">845</div><div class="line">846</div><div class="line">847</div><div class="line">848</div><div class="line">849</div><div class="line">850</div><div class="line">851</div><div class="line">852</div><div class="line">853</div><div class="line">854</div><div class="line">855</div><div class="line">856</div><div class="line">857</div><div class="line">858</div><div class="line">859</div><div class="line">860</div><div class="line">861</div><div class="line">862</div><div class="line">863</div><div class="line">864</div><div class="line">865</div><div class="line">866</div><div class="line">867</div><div class="line">868</div><div class="line">869</div><div class="line">870</div><div class="line">871</div><div class="line">872</div><div class="line">873</div><div class="line">874</div><div class="line">875</div><div class="line">876</div><div class="line">877</div><div class="line">878</div><div class="line">879</div><div class="line">880</div><div class="line">881</div><div class="line">882</div><div class="line">883</div><div class="line">884</div><div class="line">885</div><div class="line">886</div><div class="line">887</div><div class="line">888</div><div class="line">889</div><div class="line">890</div><div class="line">891</div><div class="line">892</div><div class="line">893</div><div class="line">894</div><div class="line">895</div><div class="line">896</div><div class="line">897</div><div class="line">898</div><div class="line">899</div><div class="line">900</div><div class="line">901</div><div class="line">902</div><div class="line">903</div><div class="line">904</div><div class="line">905</div><div class="line">906</div><div class="line">907</div><div class="line">908</div><div class="line">909</div><div class="line">910</div><div class="line">911</div><div class="line">912</div><div class="line">913</div><div class="line">914</div><div class="line">915</div><div class="line">916</div><div class="line">917</div><div class="line">918</div><div class="line">919</div><div class="line">920</div><div class="line">921</div><div class="line">922</div><div class="line">923</div><div class="line">924</div><div class="line">925</div><div class="line">926</div><div class="line">927</div><div class="line">928</div><div class="line">929</div><div class="line">930</div><div class="line">931</div><div class="line">932</div><div class="line">933</div><div class="line">934</div><div class="line">935</div><div class="line">936</div><div class="line">937</div><div class="line">938</div><div class="line">939</div><div class="line">940</div><div class="line">941</div><div class="line">942</div><div class="line">943</div><div class="line">944</div><div class="line">945</div><div class="line">946</div><div class="line">947</div><div class="line">948</div><div class="line">949</div><div class="line">950</div><div class="line">951</div><div class="line">952</div><div class="line">953</div><div class="line">954</div><div class="line">955</div><div class="line">956</div><div class="line">957</div><div class="line">958</div><div class="line">959</div><div class="line">960</div><div class="line">961</div><div class="line">962</div><div class="line">963</div><div class="line">964</div><div class="line">965</div><div class="line">966</div><div class="line">967</div><div class="line">968</div><div class="line">969</div><div class="line">970</div><div class="line">971</div><div class="line">972</div><div class="line">973</div><div class="line">974</div><div class="line">975</div><div class="line">976</div><div class="line">977</div><div class="line">978</div><div class="line">979</div><div class="line">980</div><div class="line">981</div><div class="line">982</div><div class="line">983</div><div class="line">984</div><div class="line">985</div><div class="line">986</div><div class="line">987</div><div class="line">988</div><div class="line">989</div><div class="line">990</div><div class="line">991</div><div class="line">992</div><div class="line">993</div><div class="line">994</div><div class="line">995</div><div class="line">996</div><div class="line">997</div><div class="line">998</div><div class="line">999</div><div class="line">1000</div><div class="line">1001</div><div class="line">1002</div><div class="line">1003</div><div class="line">1004</div><div class="line">1005</div><div class="line">1006</div><div class="line">1007</div><div class="line">1008</div><div class="line">1009</div><div class="line">1010</div><div class="line">1011</div><div class="line">1012</div><div class="line">1013</div><div class="line">1014</div><div class="line">1015</div><div class="line">1016</div><div class="line">1017</div><div class="line">1018</div><div class="line">1019</div><div class="line">1020</div><div class="line">1021</div><div class="line">1022</div><div class="line">1023</div><div class="line">1024</div><div class="line">1025</div><div class="line">1026</div><div class="line">1027</div><div class="line">1028</div><div class="line">1029</div><div class="line">1030</div><div class="line">1031</div><div class="line">1032</div><div class="line">1033</div><div class="line">1034</div><div class="line">1035</div><div class="line">1036</div><div class="line">1037</div><div class="line">1038</div><div class="line">1039</div><div class="line">1040</div><div class="line">1041</div><div class="line">1042</div><div class="line">1043</div><div class="line">1044</div><div class="line">1045</div><div class="line">1046</div><div class="line">1047</div><div class="line">1048</div><div class="line">1049</div><div class="line">1050</div><div class="line">1051</div><div class="line">1052</div><div class="line">1053</div><div class="line">1054</div><div class="line">1055</div><div class="line">1056</div><div class="line">1057</div><div class="line">1058</div><div class="line">1059</div><div class="line">1060</div><div class="line">1061</div><div class="line">1062</div><div class="line">1063</div><div class="line">1064</div><div class="line">1065</div><div class="line">1066</div><div class="line">1067</div><div class="line">1068</div><div class="line">1069</div><div class="line">1070</div><div class="line">1071</div><div class="line">1072</div><div class="line">1073</div><div class="line">1074</div><div class="line">1075</div><div class="line">1076</div><div class="line">1077</div><div class="line">1078</div><div class="line">1079</div><div class="line">1080</div><div class="line">1081</div><div class="line">1082</div><div class="line">1083</div><div class="line">1084</div><div class="line">1085</div><div class="line">1086</div><div class="line">1087</div><div class="line">1088</div><div class="line">1089</div><div class="line">1090</div><div class="line">1091</div><div class="line">1092</div><div class="line">1093</div><div class="line">1094</div><div class="line">1095</div><div class="line">1096</div><div class="line">1097</div><div class="line">1098</div><div class="line">1099</div><div class="line">1100</div><div class="line">1101</div><div class="line">1102</div><div class="line">1103</div><div class="line">1104</div><div class="line">1105</div><div class="line">1106</div><div class="line">1107</div><div class="line">1108</div><div class="line">1109</div><div class="line">1110</div><div class="line">1111</div><div class="line">1112</div><div class="line">1113</div><div class="line">1114</div><div class="line">1115</div><div class="line">1116</div><div class="line">1117</div><div class="line">1118</div><div class="line">1119</div><div class="line">1120</div><div class="line">1121</div><div class="line">1122</div><div class="line">1123</div><div class="line">1124</div><div class="line">1125</div><div class="line">1126</div><div class="line">1127</div><div class="line">1128</div><div class="line">1129</div><div class="line">1130</div><div class="line">1131</div><div class="line">1132</div><div class="line">1133</div><div class="line">1134</div><div class="line">1135</div><div class="line">1136</div><div class="line">1137</div><div class="line">1138</div><div class="line">1139</div><div class="line">1140</div><div class="line">1141</div><div class="line">1142</div><div class="line">1143</div><div class="line">1144</div><div class="line">1145</div><div class="line">1146</div><div class="line">1147</div><div class="line">1148</div><div class="line">1149</div><div class="line">1150</div><div class="line">1151</div><div class="line">1152</div><div class="line">1153</div><div class="line">1154</div><div class="line">1155</div><div class="line">1156</div><div class="line">1157</div><div class="line">1158</div><div class="line">1159</div><div class="line">1160</div><div class="line">1161</div><div class="line">1162</div><div class="line">1163</div><div class="line">1164</div><div class="line">1165</div><div class="line">1166</div><div class="line">1167</div><div class="line">1168</div><div class="line">1169</div><div class="line">1170</div><div class="line">1171</div><div class="line">1172</div><div class="line">1173</div><div class="line">1174</div><div class="line">1175</div><div class="line">1176</div><div class="line">1177</div><div class="line">1178</div><div class="line">1179</div><div class="line">1180</div><div class="line">1181</div><div class="line">1182</div><div class="line">1183</div><div class="line">1184</div><div class="line">1185</div><div class="line">1186</div><div class="line">1187</div><div class="line">1188</div><div class="line">1189</div><div class="line">1190</div><div class="line">1191</div><div class="line">1192</div><div class="line">1193</div><div class="line">1194</div><div class="line">1195</div><div class="line">1196</div><div class="line">1197</div><div class="line">1198</div><div class="line">1199</div><div class="line">1200</div><div class="line">1201</div><div class="line">1202</div><div class="line">1203</div><div class="line">1204</div><div class="line">1205</div><div class="line">1206</div><div class="line">1207</div><div class="line">1208</div><div class="line">1209</div><div class="line">1210</div><div class="line">1211</div><div class="line">1212</div><div class="line">1213</div><div class="line">1214</div><div class="line">1215</div><div class="line">1216</div><div class="line">1217</div><div class="line">1218</div><div class="line">1219</div><div class="line">1220</div><div class="line">1221</div><div class="line">1222</div><div class="line">1223</div><div class="line">1224</div><div class="line">1225</div><div class="line">1226</div><div class="line">1227</div><div class="line">1228</div><div class="line">1229</div><div class="line">1230</div><div class="line">1231</div><div class="line">1232</div><div class="line">1233</div><div class="line">1234</div><div class="line">1235</div><div class="line">1236</div><div class="line">1237</div><div class="line">1238</div><div class="line">1239</div><div class="line">1240</div><div class="line">1241</div><div class="line">1242</div><div class="line">1243</div><div class="line">1244</div><div class="line">1245</div><div class="line">1246</div><div class="line">1247</div><div class="line">1248</div><div class="line">1249</div><div class="line">1250</div><div class="line">1251</div><div class="line">1252</div><div class="line">1253</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">krpano</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- krpano 1.19.pr13 - Virtual Tour Skin --&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 皮肤具体参数含义注释 --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 	maps="false"  是否使用必应地图或谷歌地图</span></div><div class="line">			maps_type="bing"  选择使用谷歌地图或必应地图</div><div class="line">			maps_bing_api_key=""   必应地图所需的API密钥，需申请</div><div class="line">			maps_google_api_key=""   谷歌地图所需的API密钥，需申请</div><div class="line">			maps_zoombuttons="false"   是否在地图上显示缩放按钮</div><div class="line">			gyro="true"   是否使用陀螺仪</div><div class="line">			webvr="true"    是否启用VR</div><div class="line">			webvr_gyro_keeplookingdirection="false" 进入陀螺仪或VR时是否保持观看方向</div><div class="line">			webvr_prev_next_hotspots="true"  在VR下是否启用导航到前后场景的链接热点</div><div class="line">			littleplanetintro="false"    是否使用小行星开场</div><div class="line">			title="true"  是否左下角显示title</div><div class="line">			thumbs="true"  是否使用缩略图，如不使用，则没有缩略图一栏</div><div class="line">			thumbs_width="120" thumbs_height="80" thumbs_padding="10" thumbs_crop="0|40|240|160"  缩略图宽度、高度、间距以及缩略图裁切范围</div><div class="line">			thumbs_opened="false"   是否在启动时弹出缩略图一栏</div><div class="line">			thumbs_text="false"  是否在缩略图上显示名字</div><div class="line">			thumbs_dragging="true"   是否允许鼠标拖拽缩略图区域</div><div class="line">			thumbs_onhoverscrolling="false"  是否允许鼠标悬停缩略图自动滚动</div><div class="line">			thumbs_scrollbuttons="false"   是否显示缩略图滚动按钮</div><div class="line">			thumbs_scrollindicator="false"   是否显示缩略图滚动条</div><div class="line">			thumbs_loop="false"  滚动按钮是否使用缩略图循环</div><div class="line">			tooltips_buttons="false" 鼠标在按钮悬停时是否弹出文字提示</div><div class="line">			tooltips_thumbs="false"  鼠标在缩略图悬停时是否弹出文字提示</div><div class="line">			tooltips_hotspots="false"   鼠标在热点上悬停时是否弹出文字提示</div><div class="line">			tooltips_mapspots="false"   鼠标在地图热点悬停时是否弹出文字提示</div><div class="line">			deeplinking="false"       是否使用深度链接获取功能，可使得当前页面路径获取场景及视角信息</div><div class="line">			loadscene_flags="MERGE"  缩略图切换场景时的变量</div><div class="line">			loadscene_blend="OPENBLEND(0.5, 0.0, 0.75, 0.05, linear)"  缩略图切换场景时的融合</div><div class="line">			loadscene_blend_prev="SLIDEBLEND(0.5, 180, 0.75, linear)"  缩略图切换到上一个场景时的融合</div><div class="line">			loadscene_blend_next="SLIDEBLEND(0.5, 0, 0.75, linear)"  缩略图切换到下一个场景时的融合</div><div class="line">			loadingtext="载入中..." 在全景图载入中时显示的文字</div><div class="line">			layout_width="100%"  导航条容器相对屏幕宽度的百分比</div><div class="line">			layout_maxwidth="814"  导航条容器的最大宽度像素</div><div class="line">			controlbar_width="-24" 导航条背景的宽度像素</div><div class="line">			controlbar_height="40"  导航条背景的高度像素</div><div class="line">			controlbar_offset.normal="20"  导航条背景与屏幕底部的距离</div><div class="line">			controlbar_offset_closed="-40"  导航条隐藏状态时与屏幕底部的距离</div><div class="line">			controlbar_overlap.no-fractionalscaling="10"  在不支持分级缩放页面和设置像素比的设备的导航条重叠的像素</div><div class="line">			controlbar_overlap.fractionalscaling="0" 支持分级缩放页面和设置像素比的设备的导航条重叠的像素</div><div class="line">			design_skin_images="vtourskin.png" 皮肤所用的源图片</div><div class="line">			design_bgcolor="0x000000" 皮肤的背景颜色</div><div class="line">			design_bgalpha="0.5" 皮肤的透明度</div><div class="line">			design_bgborder="0 0xFFFFFF 1.0" 皮肤的边框</div><div class="line">			design_bgroundedge="1" 皮肤边框圆角设置</div><div class="line">			design_bgshadow="0 0 9 0xFFFFFF 0.5" 皮肤的背景阴影</div><div class="line">			design_thumbborder_bgborder="4 0xFFFFFF 1.0" 皮肤的缩略图边框</div><div class="line">			design_thumbborder_padding="2" 皮肤缩略图边框间距</div><div class="line">			design_thumbborder_bgroundedge="5" 皮肤缩略图边框的圆角</div><div class="line">			design_text_css="color:#FFFFFF; font-family:Arial; font-weight:bold;"皮肤文字样式</div><div class="line">			design_text_shadow="1" 皮肤的文字阴影 --&gt;</div><div class="line">    </div><div class="line">	</div><div class="line">    <span class="comment">&lt;!-- save the url path of this xml file (the url value will be adjusted during xml parsing) --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">vtourskinxmlpath</span> <span class="attr">url</span>=<span class="string">"./"</span> /&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- mouse / touch / keyboard(button) control settings - http://krpano.com/docu/xml/#control --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 鼠标触屏键盘控制的设定 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">control</span> <span class="attr">mouse</span>=<span class="string">"drag"</span></span></div><div class="line">             <span class="attr">touch</span>=<span class="string">"drag"</span></div><div class="line">             <span class="attr">zoomtocursor</span>=<span class="string">"false"</span></div><div class="line">             <span class="attr">zoomoutcursor</span>=<span class="string">"false"</span></div><div class="line">             <span class="attr">draginertia</span>=<span class="string">"0.1"</span></div><div class="line">             <span class="attr">dragfriction</span>=<span class="string">"0.9"</span></div><div class="line">             <span class="attr">movetoaccelerate</span>=<span class="string">"1.0"</span></div><div class="line">             <span class="attr">movetospeed</span>=<span class="string">"10.0"</span></div><div class="line">             <span class="attr">movetofriction</span>=<span class="string">"0.8"</span></div><div class="line">             <span class="attr">keybaccelerate</span>=<span class="string">"0.09"</span></div><div class="line">             <span class="attr">keybfriction</span>=<span class="string">"0.94"</span></div><div class="line">             <span class="attr">keybfovchange</span>=<span class="string">"0.25"</span></div><div class="line">             <span class="attr">mousefovchange</span>=<span class="string">"1.0"</span></div><div class="line">             <span class="attr">fovspeed</span>=<span class="string">"3.0"</span></div><div class="line">             <span class="attr">fovfriction</span>=<span class="string">"0.9"</span></div><div class="line">             <span class="attr">bouncinglimits</span>=<span class="string">"true"</span></div><div class="line">             /&gt;</div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- mouse cursors - http://krpano.com/docu/xml/#cursors --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 鼠标光标设定可自定义光标的样式 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">cursors</span> <span class="attr">standard</span>=<span class="string">"default"</span></span></div><div class="line">             <span class="attr">dragging</span>=<span class="string">"move"</span></div><div class="line">             <span class="attr">moving</span>=<span class="string">"move"</span></div><div class="line">             /&gt;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- ensure stagescale 2x for mobile devices (regardless if mobilescale is 0.5 or 1.0) --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">krpano</span> <span class="attr">stagescale</span>=<span class="string">"calc:stagescale * 2"</span> <span class="attr">if</span>=<span class="string">"stagescale LT 1.0"</span> <span class="attr">devices</span>=<span class="string">"mobile"</span> /&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- include VR support - http://krpano.com/plugins/webvr/ --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- WebVR插件 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">url</span>=<span class="string">"%SWFPATH%/plugins/webvr.xml"</span> <span class="attr">devices</span>=<span class="string">"html5"</span> /&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- overwrite some settings from the webvr.xml for the skin integration --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 覆盖WebVR默认设定 --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- onavailable去除插件自定义的进入VR按钮（因为皮肤中已包含）webvr_enterbutton </span></div><div class="line">    skin_arrange_buttons初始化皮肤按钮  webvr_onavailable()初始化设定，显示Enter VR 按钮--&gt;</div><div class="line">	</div><div class="line">    <span class="comment">&lt;!-- onentervr skin_showloading去除加载文字 webvr_setup 设置场景切换热点并跟随</span></div><div class="line">    webvr_onentervr 将所有没有添加vr="true"的layer隐藏，并显示VR的Layer skin_reloadscene_webvr</div><div class="line">    显示屏幕旋转提示图片--&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">name</span>=<span class="string">"WebVR"</span> <span class="attr">keep</span>=<span class="string">"true"</span> <span class="attr">devices</span>=<span class="string">"html5"</span></span></div><div class="line">            <span class="attr">pluginurl</span>=<span class="string">"%SWFPATH%/plugins/webvr.js"</span></div><div class="line">            <span class="attr">url</span>=<span class="string">""</span></div><div class="line">            <span class="attr">multireslock.desktop</span>=<span class="string">"true"</span></div><div class="line">            <span class="attr">multireslock.mobile.or.tablet</span>=<span class="string">"false"</span></div><div class="line">            <span class="attr">mobilevr_support</span>=<span class="string">"true"</span></div><div class="line">            <span class="attr">mobilevr_fake_support</span>=<span class="string">"true"</span></div><div class="line">            <span class="attr">onavailable</span>=<span class="string">"removelayer(webvr_enterbutton); skin_arrange_buttons(); webvr_onavailable();"</span></div><div class="line">            <span class="attr">onentervr</span>=<span class="string">"skin_showloading(false); webvr_onentervr(); webvr_setup(); skin_reloadscene_webvr();"</span></div><div class="line">            <span class="attr">onexitvr</span>=<span class="string">"webvr_onexitvr(); webvr_setup(); skin_reloadscene_webvr();"</span></div><div class="line">            /&gt;</div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- webvr button style (adjust to match skin style) --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 修改WebVR界面的style使其符合当前场景的样式 主要设置背景颜色和文字 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"webvr_button_style"</span></span></div><div class="line">           <span class="attr">border</span>=<span class="string">"false"</span></div><div class="line">           <span class="attr">roundedge</span>=<span class="string">"calc:1.0"</span></div><div class="line">           <span class="attr">backgroundcolor</span>=<span class="string">"get:skin_settings.design_bgcolor"</span> <span class="attr">backgroundalpha</span>=<span class="string">"get:skin_settings.design_bgalpha"</span></div><div class="line">           <span class="attr">shadow</span>=<span class="string">"0.01"</span> <span class="attr">shadowrange</span>=<span class="string">"10.0"</span> <span class="attr">shadowangle</span>=<span class="string">"90.0"</span> <span class="attr">shadowcolor</span>=<span class="string">"0x30261B"</span> <span class="attr">shadowalpha</span>=<span class="string">"0.50"</span></div><div class="line">           <span class="attr">css</span>=<span class="string">"calc:skin_settings.design_text_css + ' color:#FFFFFF;font-size:' + 20*webvr_setup_scale*webvr_button_scale + 'px;'"</span>/&gt;<span class="xml"></span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- show a 'rotate the device' info when the mobile device is in portrait orientation in VR mode --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 显示屏幕旋转提示图片 devices="mobile" 只在手机模式下--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"webvr_rotate_to_landscape_request"</span> <span class="attr">keep</span>=<span class="string">"true"</span> <span class="attr">vr</span>=<span class="string">"true"</span> <span class="attr">devices</span>=<span class="string">"mobile"</span></span></div><div class="line">           <span class="attr">url</span>=<span class="string">"rotate_device.png"</span> <span class="attr">scale</span>=<span class="string">"0.5"</span></div><div class="line">           <span class="attr">align</span>=<span class="string">"top"</span> <span class="attr">edge</span>=<span class="string">"center"</span> <span class="attr">y</span>=<span class="string">"28%"</span></div><div class="line">           <span class="attr">autoalpha</span>=<span class="string">"true"</span> <span class="attr">alpha</span>=<span class="string">"0.0"</span></div><div class="line">           <span class="attr">enabled</span>=<span class="string">"false"</span></div><div class="line">           /&gt;</div><div class="line">    <span class="comment">&lt;!-- WebVR相关事件触发 webvr_set_startup_view 设置镜头位置 onloadcomplete根据场景数目觉得是否显示VR场景切换热点--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">events</span> <span class="attr">name</span>=<span class="string">"webvr_events"</span> <span class="attr">keep</span>=<span class="string">"true"</span> <span class="attr">devices</span>=<span class="string">"html5"</span></span></div><div class="line">            <span class="attr">onxmlcomplete</span>=<span class="string">"webvr_set_startup_view()"</span></div><div class="line">            <span class="attr">onresize.mobile</span>=<span class="string">"webvr_act_as_gyro_in_portrait_mode();"</span></div><div class="line">            <span class="attr">onloadcomplete</span>=<span class="string">"delayedcall(0.5, if(webvr.isenabled AND scene.count GT 1 AND skin_settings.webvr_prev_next_hotspots, set(hotspot[webvr_prev_scene].visible,true); set(hotspot[webvr_next_scene].visible,true); ); );"</span></div><div class="line">            <span class="attr">onviewchange</span>=<span class="string">""</span></div><div class="line">            /&gt;</div><div class="line">			</div><div class="line">    <span class="comment">&lt;!-- 根据VR是否打开设置镜头位置 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"webvr_set_startup_view"</span>&gt;</span></div><div class="line">        if((webvr.isenabled OR plugin[skin_gyro].enabled) AND skin_settings.webvr_gyro_keeplookingdirection == false,</div><div class="line">            skin_lookat( get(xml.view.hlookat) );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 进入VR时设定 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"webvr_setup"</span>&gt;</span></div><div class="line">        if(webvr.isenabled,</div><div class="line">            <span class="comment">&lt;!-- 读取自定义设定 --&gt;</span></div><div class="line">            copy(loadscene_flags_backup, skin_settings.loadscene_flags);</div><div class="line">            <span class="comment">&lt;!-- 设置为 MERGE|KEEPVIEW|KEEPMOVING|NOPREVIEW--&gt;</span></div><div class="line">            set(skin_settings.loadscene_flags, MERGE|KEEPVIEW|KEEPMOVING|NOPREVIEW);</div><div class="line">            <span class="comment">&lt;!-- 打开WebVR时是否竖屏启动陀螺仪 --&gt;</span></div><div class="line">            webvr_act_as_gyro_in_portrait_mode(true);</div><div class="line">            <span class="comment">&lt;!-- 读取设置是否显示VR模式下的上下按钮 并且设置跟随--&gt;</span></div><div class="line">            if(scene.count GT 1 AND skin_settings.webvr_prev_next_hotspots,</div><div class="line">                set(hotspot[webvr_prev_scene].visible, true);</div><div class="line">                set(hotspot[webvr_next_scene].visible, true);</div><div class="line">                set(events[webvr_events].onviewchange, webvr_menu_following());</div><div class="line">              );</div><div class="line">          ,</div><div class="line">            if(loadscene_flags_backup !== null, copy(skin_settings.loadscene_flags, loadscene_flags_backup));</div><div class="line">            tween(layer[webvr_rotate_to_landscape_request].alpha, 0.0, 0.0);</div><div class="line">            set(hotspot[webvr_prev_scene].visible, false);</div><div class="line">            set(hotspot[webvr_next_scene].visible, false);</div><div class="line">            set(events[webvr_events].onviewchange, null);</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 打开WebVR时是否竖屏启动陀螺仪 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"webvr_act_as_gyro_in_portrait_mode"</span>&gt;</span></div><div class="line">        if(device.mobile AND webvr.isenabled,</div><div class="line">            div(aspect, stagewidth, stageheight);</div><div class="line">            if(aspect != lastaspect OR '%1' == 'true',</div><div class="line">                copy(lastaspect, aspect);</div><div class="line">                if(stagewidth GT stageheight,</div><div class="line">                    <span class="comment">&lt;!-- landscape orientation - use stereo rendering and a direct/fast gyro sensor mode --&gt;</span></div><div class="line">                    set(display.stereo, true);</div><div class="line">                    set(webvr.mobilevr_sensor_mode, 3);</div><div class="line">                    webvr.update();</div><div class="line">                    tween(layer[webvr_rotate_to_landscape_request].alpha, 0.0, 0.0);</div><div class="line">                  ,</div><div class="line">                    <span class="comment">&lt;!-- portrait orientation - use normal rendering and a smoother/slower gyro sensor mode --&gt;</span></div><div class="line">                    set(display.stereo, false);</div><div class="line">                    set(webvr.mobilevr_sensor_mode, 1);</div><div class="line">                    webvr.update();</div><div class="line">                    tween(layer[webvr_rotate_to_landscape_request].alpha, 1.0);</div><div class="line">                    delayedcall(3.0, tween(layer[webvr_rotate_to_landscape_request].alpha, 0.0, 1.0); );</div><div class="line">                  );</div><div class="line">              );</div><div class="line">          ,</div><div class="line">            set(lastaspect, 0);</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- VR scene switching hotspots --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- VR场景切换热点 distorted="true" 热点跟随场景扭曲--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"webvr_menu_style"</span> <span class="attr">depth</span>=<span class="string">"800"</span> <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">distorted</span>=<span class="string">"true"</span> <span class="attr">ath</span>=<span class="string">"0"</span> <span class="attr">atv</span>=<span class="string">"45"</span> <span class="attr">alpha</span>=<span class="string">"0.5"</span> /&gt;</span><span class="xml"></span></div><div class="line">    <span class="tag">&lt;<span class="name">hotspot</span> <span class="attr">name</span>=<span class="string">"webvr_prev_scene"</span> <span class="attr">keep</span>=<span class="string">"true"</span> <span class="attr">style</span>=<span class="string">"skin_base|webvr_menu_style"</span> <span class="attr">crop</span>=<span class="string">"0|64|64|64"</span>  <span class="attr">ox</span>=<span class="string">"-64"</span> <span class="attr">onover</span>=<span class="string">"tween(scale,0.6);"</span> <span class="attr">onout</span>=<span class="string">"tween(scale,0.5);"</span> <span class="attr">vr_timeout</span>=<span class="string">"750"</span> <span class="attr">onclick</span>=<span class="string">"skin_nextscene_loop(-1);"</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">devices</span>=<span class="string">"html5.and.webgl"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">hotspot</span> <span class="attr">name</span>=<span class="string">"webvr_next_scene"</span> <span class="attr">keep</span>=<span class="string">"true"</span> <span class="attr">style</span>=<span class="string">"skin_base|webvr_menu_style"</span> <span class="attr">crop</span>=<span class="string">"64|64|64|64"</span> <span class="attr">ox</span>=<span class="string">"+64"</span> <span class="attr">onover</span>=<span class="string">"tween(scale,0.6);"</span> <span class="attr">onout</span>=<span class="string">"tween(scale,0.5);"</span> <span class="attr">vr_timeout</span>=<span class="string">"750"</span> <span class="attr">onclick</span>=<span class="string">"skin_nextscene_loop(+1);"</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">devices</span>=<span class="string">"html5.and.webgl"</span> /&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- floating/following VR hotspots --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 设置VR模式下跟随镜头的场景切换热点 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"webvr_menu_following"</span> <span class="attr">type</span>=<span class="string">"Javascript"</span> <span class="attr">devices</span>=<span class="string">"html5"</span>&gt;</span>&lt;![CDATA[        var hs1 = krpano.get("hotspot[webvr_prev_scene]");</div><div class="line">        var hs2 = krpano.get("hotspot[webvr_next_scene]");</div><div class="line">        //头追没有移动到热点处的时候</div><div class="line">        if(!hs1.hovering &amp;&amp; !hs2.hovering)</div><div class="line">        &#123;</div><div class="line">            var f = 0.01;   // following speed factor</div><div class="line">            var h = krpano.view.hlookat;//获取当前场景的垂直度数（垂直180°）</div><div class="line">            var v = krpano.view.vlookat;//获取当前场景的水平度数（水平360°）</div><div class="line">            var hsh = hs1.ath;</div><div class="line">            var hsv = hs1.atv;</div><div class="line">            //将度数转化为距离设置到热点上</div><div class="line">            h   = (h  -(h|0))   + (((h|0)  +360180)%360) - 180.0;</div><div class="line">            v   = (v  -(v|0))   + (((v|0)  +360180)%360) - 180.0;</div><div class="line">            hsh = (hsh-(hsh|0)) + (((hsh|0)+360180)%360) - 180.0;</div><div class="line">            var dh = h - hsh;</div><div class="line">            dh += (dh &gt; 180) ? -360 : (dh &lt; -180) ? 360 : 0</div><div class="line">            hsh += dh*f;</div><div class="line">            var a = Math.abs(v - hsv) / 90.0;</div><div class="line">            a = 1.0 * Math.max(1.0 - 2.0*Math.sqrt(a), 0);</div><div class="line">            v = v + 55.0 - v*1.5;</div><div class="line">            hsv = hsv*(1.0 - f) + v*f;</div><div class="line">            hs1.ath = hs2.ath = hsh;</div><div class="line">            hs1.atv = hs2.atv = hsv;</div><div class="line">            hs1.alpha = hs2.alpha = a;</div><div class="line">        &#125;</div><div class="line">    ]]&gt;<span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- VR support --&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- skin styles --&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- skin_base - the base skin image --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 基础样式，设置皮肤的图标文件路径 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"skin_base"</span> <span class="attr">url</span>=<span class="string">"calc:vtourskinxmlpath.url + skin_settings.design_skin_images"</span> /&gt;</span><span class="xml"></span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- skin_glow - button glowing (if additional ondown,onup,onout,over events are needed, this style provides ondown2,onup2,onover2,onout2 events) --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 样式属性，如果有额外的事件监听使用 ondown2,onup2,onover2,onout2 skin_buttonglow 设置按钮的点击hover效果--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"skin_glow"</span></span></div><div class="line">           <span class="attr">ondown</span>=<span class="string">"copy(skin_lockglow,name); skin_buttonglow(get(name)); if(ondown2, ondown2() );"</span></div><div class="line">           <span class="attr">onover</span>=<span class="string">"if(skin_lockglow === null, copy(skin_lockglow,name); skin_buttonglow(get(name),0.3) ); if(onover2, onover2() );"</span></div><div class="line">           <span class="attr">onout</span>=<span class="string">"if(skin_lockglow === name AND !pressed, skin_buttonglow(null);delete(skin_lockglow); ); if(onout2, onout2() );"</span></div><div class="line">           <span class="attr">onup</span>=<span class="string">"if(onup2, onup2()); delayedcall(0, if(hovering AND enabled, skin_buttonglow(get(name),0.3); , skin_buttonglow(null);delete(skin_lockglow); ); );"</span></div><div class="line">           /&gt;<span class="xml"></span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- skin_thumbtext_style - style/textfield for the (optional, skin_settings.thumbs_text) thumbnails texts --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 场景缩略图的文字样式 通过skin_settings.thumbs_text设定是否显示缩略图的文字--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"skin_thumbtext_style"</span> <span class="attr">url</span>=<span class="string">"%SWFPATH%/plugins/textfield.swf"</span> <span class="attr">align</span>=<span class="string">"bottom"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">autoheight</span>=<span class="string">"true"</span> <span class="attr">y</span>=<span class="string">"5"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> <span class="attr">background</span>=<span class="string">"false"</span> <span class="attr">border</span>=<span class="string">"false"</span> <span class="attr">css</span>=<span class="string">"calc:skin_settings.design_text_css + ' text-align:center; font-size:10px;'"</span> <span class="attr">textshadow</span>=<span class="string">"get:skin_settings.design_text_shadow"</span> /&gt;</span><span class="xml"></span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- skin_hotspotstyle - style for the hotspots --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 当前皮肤热点的按钮样式 如果skin_settings.tooltips_hotspots为true 则将scene的title属性值设置为热点的tips--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"skin_hotspotstyle"</span> <span class="attr">url</span>=<span class="string">"vtourskin_hotspot.png"</span> <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">edge</span>=<span class="string">"top"</span> <span class="attr">distorted</span>=<span class="string">"true"</span></span></div><div class="line">           <span class="attr">tooltip</span>=<span class="string">""</span></div><div class="line">           <span class="attr">linkedscene</span>=<span class="string">""</span></div><div class="line">           <span class="attr">linkedscene_lookat</span>=<span class="string">""</span></div><div class="line">           <span class="attr">onclick</span>=<span class="string">"skin_hotspotstyle_click();"</span></div><div class="line">           <span class="attr">onover</span>=<span class="string">"tween(scale,0.55);"</span></div><div class="line">           <span class="attr">onout</span>=<span class="string">"tween(scale,0.5);"</span></div><div class="line">           <span class="attr">onloaded</span>=<span class="string">"if(linkedscene AND skin_settings.tooltips_hotspots, copy(tooltip,scene[get(linkedscene)].title); loadstyle(skin_tooltips); );"</span></div><div class="line">           /&gt;<span class="xml"></span></div><div class="line">    <span class="comment">&lt;!-- 热点点击 读取热点的linkedscene属性设置为跳转的scene如果存在linkedscene_lookat属性则按照","切分字符分别赋值给h,v,fov</span></div><div class="line">    点击时隐藏tips 调用skin_loadscene打开场景skin_lookat旋转到指定位置--&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_hotspotstyle_click"</span>&gt;</span></div><div class="line">        if(linkedscene,</div><div class="line">            if(linkedscene_lookat,</div><div class="line">                txtsplit(linkedscene_lookat, ',', hs_lookat_h, hs_lookat_v, hs_lookat_fov);</div><div class="line">              );</div><div class="line">            set(enabled, false);</div><div class="line">            skin_hidetooltips();</div><div class="line">            tween(depth|alpha|oy|rx, 4000|0.0|-50|-60, 0.5, default,</div><div class="line">                skin_loadscene(get(linkedscene), get(skin_settings.loadscene_blend));</div><div class="line">                if(hs_lookat_h !== null,</div><div class="line">                    skin_lookat(get(hs_lookat_h), get(hs_lookat_v), get(hs_lookat_fov));</div><div class="line">                    delete(hs_lookat_h, hs_lookat_v, hs_lookat_fov);</div><div class="line">                  );</div><div class="line">                skin_updatescroll();</div><div class="line">              );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- skin_tooltip - style for the thumb, hotspot and mapspot tooltips --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- tips样式，当前为鼠标移动到layer读取tooltip值设置到mouse.stagex  mouse.stagey（为鼠标的topleft位置） 这个位置--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"skin_tooltips"</span></span></div><div class="line">           <span class="attr">onover.mouse</span>=<span class="string">"copy(layer[skin_tooltip].html, tooltip);</span></div><div class="line">                         set(layer[skin_tooltip].visible, true);</div><div class="line">                         tween(layer[skin_tooltip].alpha, 1.0, 0.1);</div><div class="line">                         asyncloop(hovering, copy(layer[skin_tooltip].x,mouse.stagex); copy(layer[skin_tooltip].y,mouse.stagey); );"</div><div class="line">           <span class="attr">onout.mouse</span>=<span class="string">"tween(layer[skin_tooltip].alpha, 0.0, 0.1, default, set(layer[skin_tooltip].visible,false), copy(layer[skin_tooltip].x,mouse.stagex); copy(layer[skin_tooltip].y,mouse.stagey); );"</span></div><div class="line">           /&gt;<span class="xml"></span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- the tooltip textfield --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 文字提示tips layer使用文字插件展示，这里可以修改tips的式样 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_tooltip"</span> <span class="attr">keep</span>=<span class="string">"true"</span></span></div><div class="line">           <span class="attr">url</span>=<span class="string">"%SWFPATH%/plugins/textfield.swf"</span></div><div class="line">           <span class="attr">parent</span>=<span class="string">"STAGE"</span></div><div class="line">           <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">alpha</span>=<span class="string">"0"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> <span class="attr">zorder</span>=<span class="string">"2"</span></div><div class="line">           <span class="attr">align</span>=<span class="string">"lefttop"</span> <span class="attr">edge</span>=<span class="string">"bottom"</span> <span class="attr">oy</span>=<span class="string">"-2"</span> <span class="attr">width</span>=<span class="string">"200"</span> <span class="attr">autoheight</span>=<span class="string">"true"</span></div><div class="line">           <span class="attr">background</span>=<span class="string">"false"</span> <span class="attr">backgroundcolor</span>=<span class="string">"0xFFFFFF"</span> <span class="attr">backgroundalpha</span>=<span class="string">"1.0"</span></div><div class="line">           <span class="attr">border</span>=<span class="string">"false"</span> <span class="attr">bordercolor</span>=<span class="string">"0x000000"</span> <span class="attr">borderalpha</span>=<span class="string">"1.0"</span> <span class="attr">borderwidth</span>=<span class="string">"1.0"</span> <span class="attr">roundedge</span>=<span class="string">"0"</span></div><div class="line">           <span class="attr">shadow</span>=<span class="string">"0.0"</span> <span class="attr">shadowrange</span>=<span class="string">"4.0"</span> <span class="attr">shadowangle</span>=<span class="string">"45"</span> <span class="attr">shadowcolor</span>=<span class="string">"0x000000"</span> <span class="attr">shadowalpha</span>=<span class="string">"1.0"</span></div><div class="line">           <span class="attr">textshadow</span>=<span class="string">"get:skin_settings.design_text_shadow"</span> <span class="attr">textshadowrange</span>=<span class="string">"6.0"</span> <span class="attr">textshadowangle</span>=<span class="string">"90"</span> <span class="attr">textshadowcolor</span>=<span class="string">"0x000000"</span> <span class="attr">textshadowalpha</span>=<span class="string">"1.0"</span></div><div class="line">           <span class="attr">css</span>=<span class="string">"calc:skin_settings.design_text_css + ' text-align:center; font-size:16px;'"</span></div><div class="line">           <span class="attr">html</span>=<span class="string">""</span></div><div class="line">           /&gt;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- skin layout --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 下方控制条 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_layer"</span> <span class="attr">keep</span>=<span class="string">"true"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"top"</span> <span class="attr">width</span>=<span class="string">"get:skin_settings.layout_width"</span> <span class="attr">maxwidth</span>=<span class="string">"get:skin_settings.layout_maxwidth"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">maskchildren</span>=<span class="string">"true"</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">bgcapture</span>=<span class="string">"false"</span> <span class="attr">zorder</span>=<span class="string">"1"</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 控制条上部分包括视频控制条，缩略图展示，场景名称等 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_scroll_window"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"bottom"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"calc:skin_settings.controlbar_offset + skin_settings.controlbar_height - skin_settings.controlbar_overlap"</span> <span class="attr">maskchildren</span>=<span class="string">"true"</span> <span class="attr">onloaded</span>=<span class="string">"skin_calc_opened_closed();"</span> <span class="attr">zorder</span>=<span class="string">"1"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_scroll_layer"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"bottom"</span> <span class="attr">width</span>=<span class="string">"get:skin_settings.controlbar_width"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">x</span>=<span class="string">"200"</span> <span class="attr">y</span>=<span class="string">"200"</span> <span class="attr">y_offset</span>=<span class="string">"get:skin_settings.controlbar_overlap"</span> <span class="attr">accuracy</span>=<span class="string">"1"</span> <span class="attr">bgalpha</span>=<span class="string">"get:skin_settings.design_bgalpha"</span> <span class="attr">bgcolor</span>=<span class="string">"get:skin_settings.design_bgcolor"</span> <span class="attr">bgborder</span>=<span class="string">"get:skin_settings.design_bgborder"</span> <span class="attr">bgroundedge</span>=<span class="string">"get:skin_settings.design_bgroundedge"</span> <span class="attr">bgshadow</span>=<span class="string">"get:skin_settings.design_bgshadow"</span>&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 场景名称 --&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_title"</span> <span class="attr">url</span>=<span class="string">"%SWFPATH%/plugins/textfield.swf"</span> <span class="attr">align</span>=<span class="string">"lefttop"</span> <span class="attr">edge</span>=<span class="string">"leftbottom"</span> <span class="attr">x</span>=<span class="string">"4"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">zorder</span>=<span class="string">"4"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> <span class="attr">background</span>=<span class="string">"false"</span> <span class="attr">border</span>=<span class="string">"false"</span> <span class="attr">css</span>=<span class="string">"calc:skin_settings.design_text_css + ' text-align:left; font-style:italic; font-size:12px;'"</span> <span class="attr">textshadow</span>=<span class="string">"get:skin_settings.design_text_shadow"</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">onautosized</span>=<span class="string">"skin_video_updateseekbarwidth();"</span> /&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 视频控制条 --&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_video_controls"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"lefttop"</span> <span class="attr">edge</span>=<span class="string">"leftbottom"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"18"</span> <span class="attr">visible</span>=<span class="string">"false"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_video_seekbar_container"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"lefttop"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">bgcapture</span>=<span class="string">"true"</span> <span class="attr">ondown</span>=<span class="string">"skin_video_ondownseeking();"</span> &gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_video_seekbar"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">bgcolor</span>=<span class="string">"0xFFFFFF"</span> <span class="attr">bgalpha</span>=<span class="string">"0.25"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"2"</span>&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_video_loadbar"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">bgcolor</span>=<span class="string">"0xFFFFFF"</span> <span class="attr">bgalpha</span>=<span class="string">"0.5"</span> <span class="attr">align</span>=<span class="string">"left"</span> <span class="attr">width</span>=<span class="string">"0"</span> <span class="attr">height</span>=<span class="string">"2"</span> /&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_video_seekpos"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">bgcolor</span>=<span class="string">"0xFFFFFF"</span> <span class="attr">bgalpha</span>=<span class="string">"1.0"</span> <span class="attr">align</span>=<span class="string">"left"</span> <span class="attr">edge</span>=<span class="string">"center"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">bgroundedge</span>=<span class="string">"8"</span> <span class="attr">width</span>=<span class="string">"10"</span> <span class="attr">height</span>=<span class="string">"10"</span> /&gt;</span></div><div class="line">                        <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_video_time"</span> <span class="attr">url</span>=<span class="string">"%SWFPATH%/plugins/textfield.swf"</span> <span class="attr">align</span>=<span class="string">"rightbottom"</span> <span class="attr">x</span>=<span class="string">"4"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> <span class="attr">background</span>=<span class="string">"false"</span> <span class="attr">border</span>=<span class="string">"false"</span> <span class="attr">css</span>=<span class="string">"calc:skin_settings.design_text_css + ' text-align:left; font-style:italic; font-size:12px;'"</span> <span class="attr">textshadow</span>=<span class="string">"get:skin_settings.design_text_shadow"</span> <span class="attr">html</span>=<span class="string">"0:00 / 0:00"</span> /&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_scroll_container"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"lefttop"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">bgroundedge</span>=<span class="string">"get:skin_settings.design_bgroundedge"</span> <span class="attr">maskchildren</span>=<span class="string">"true"</span>&gt;</span></div><div class="line">                    <span class="comment">&lt;!-- 缩略图展示 --&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_thumbs_container"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"lefttop"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">visible</span>=<span class="string">"false"</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_thumbs_scrollleft"</span>  <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|64|64|64"</span>  <span class="attr">align</span>=<span class="string">"lefttop"</span>  <span class="attr">edge</span>=<span class="string">"left"</span>  <span class="attr">x</span>=<span class="string">"5"</span> <span class="attr">y</span>=<span class="string">"50"</span> <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">zorder</span>=<span class="string">"2"</span> <span class="attr">alpha</span>=<span class="string">"1.0"</span> <span class="attr">ondown2</span>=<span class="string">"asyncloop(pressed, layer[skin_thumbs].scrollby(+2,0));"</span> <span class="attr">visible</span>=<span class="string">"false"</span> /&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_thumbs_scrollright"</span> <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"64|64|64|64"</span> <span class="attr">align</span>=<span class="string">"righttop"</span> <span class="attr">edge</span>=<span class="string">"right"</span> <span class="attr">x</span>=<span class="string">"5"</span> <span class="attr">y</span>=<span class="string">"50"</span> <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">zorder</span>=<span class="string">"2"</span> <span class="attr">alpha</span>=<span class="string">"1.0"</span> <span class="attr">ondown2</span>=<span class="string">"asyncloop(pressed, layer[skin_thumbs].scrollby(-2,0));"</span> <span class="attr">visible</span>=<span class="string">"false"</span> /&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_thumbs_scrollindicator"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">bgcolor</span>=<span class="string">"0xFFFFFF"</span> <span class="attr">bgalpha</span>=<span class="string">"0.25"</span> <span class="attr">align</span>=<span class="string">"lefttop"</span> <span class="attr">width</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"100"</span> <span class="attr">height</span>=<span class="string">"2"</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> /&gt;</span></div><div class="line">                        <span class="comment">&lt;!-- 滑动插件 --&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_thumbs"</span> <span class="attr">state</span>=<span class="string">"closed"</span> <span class="attr">url.flash</span>=<span class="string">"%SWFPATH%/plugins/scrollarea.swf"</span> <span class="attr">url.html5</span>=<span class="string">"%SWFPATH%/plugins/scrollarea.js"</span> <span class="attr">direction</span>=<span class="string">"h"</span> <span class="attr">align</span>=<span class="string">"top"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100"</span> <span class="attr">zorder</span>=<span class="string">"1"</span> <span class="attr">onloaded</span>=<span class="string">"skin_updatescroll();"</span> <span class="attr">onscroll</span>=<span class="string">"skin_updatethumbscroll();"</span> /&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">                    <span class="comment">&lt;!-- 地图展示 --&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_map_container"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"leftop"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">bgroundedge</span>=<span class="string">"get:skin_settings.design_bgroundedge"</span> <span class="attr">maskchildren</span>=<span class="string">"true"</span>&gt;</span></div><div class="line">                        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_map"</span> <span class="attr">state</span>=<span class="string">"closed"</span> <span class="attr">url</span>=<span class="string">""</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">align</span>=<span class="string">"lefttop"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"50%"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">zorder</span>=<span class="string">"1"</span> <span class="attr">lat</span>=<span class="string">"0"</span> <span class="attr">lng</span>=<span class="string">"0"</span> <span class="attr">zoom</span>=<span class="string">"10"</span> <span class="attr">bgalpha</span>=<span class="string">"0"</span> <span class="attr">maptype</span>=<span class="string">"satellite"</span> <span class="attr">onmapready</span>=<span class="string">"skin_addmapspots();"</span>&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="name">maptypecontrol</span> <span class="attr">visible</span>=<span class="string">"true"</span> <span class="attr">align</span>=<span class="string">"righttop"</span> <span class="attr">x</span>=<span class="string">"5"</span> <span class="attr">y</span>=<span class="string">"5"</span> <span class="attr">buttonalign</span>=<span class="string">"v"</span> <span class="attr">scale.mobile</span>=<span class="string">"1.5"</span> /&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="name">radar</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">headingoffset</span>=<span class="string">"0"</span> /&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="name">spotstyle</span> <span class="attr">name</span>=<span class="string">"DEFAULT"</span> <span class="attr">url</span>=<span class="string">"vtourskin_mapspot.png"</span> <span class="attr">activeurl</span>=<span class="string">"vtourskin_mapspotactive.png"</span> <span class="attr">edge</span>=<span class="string">"bottom"</span> <span class="attr">x</span>=<span class="string">"-5"</span> <span class="attr">y</span>=<span class="string">"-8"</span> <span class="attr">scale</span>=<span class="string">"0.5"</span> /&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_map_zoom_in"</span>  <span class="attr">style</span>=<span class="string">"skin_base"</span> <span class="attr">visible</span>=<span class="string">"get:skin_settings.maps_zoombuttons"</span> <span class="attr">crop</span>=<span class="string">"9|512|46|64"</span>  <span class="attr">align</span>=<span class="string">"right"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"-40"</span> <span class="attr">zorder</span>=<span class="string">"2"</span> <span class="attr">ondown</span>=<span class="string">"layer[skin_map].zoomin();  skin_buttonglow(get(name));"</span> <span class="attr">onup</span>=<span class="string">"skin_buttonglow(null);"</span> /&gt;</span></div><div class="line">                            <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_map_zoom_out"</span> <span class="attr">style</span>=<span class="string">"skin_base"</span> <span class="attr">visible</span>=<span class="string">"get:skin_settings.maps_zoombuttons"</span> <span class="attr">crop</span>=<span class="string">"73|512|46|64"</span> <span class="attr">align</span>=<span class="string">"right"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"+40"</span> <span class="attr">zorder</span>=<span class="string">"2"</span> <span class="attr">ondown</span>=<span class="string">"layer[skin_map].zoomout(); skin_buttonglow(get(name));"</span> <span class="attr">onup</span>=<span class="string">"skin_buttonglow(null);"</span> /&gt;</span></div><div class="line">                        <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 底部控制条背景图 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_splitter_bottom"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"bottom"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"calc:skin_settings.controlbar_offset + skin_settings.controlbar_height - skin_settings.controlbar_overlap"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">maskchildren</span>=<span class="string">"true"</span> <span class="attr">onloaded</span>=<span class="string">"skin_calc_opened_closed();"</span> <span class="attr">zorder</span>=<span class="string">"2"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_control_bar_bg"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"bottom"</span> <span class="attr">width</span>=<span class="string">"get:skin_settings.controlbar_width"</span> <span class="attr">height</span>=<span class="string">"calc:skin_settings.controlbar_height + skin_settings.controlbar_overlap"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"get:skin_settings.controlbar_offset"</span> <span class="attr">bgcolor</span>=<span class="string">"get:skin_settings.design_bgcolor"</span> <span class="attr">bgalpha</span>=<span class="string">"get:skin_settings.design_bgalpha"</span> <span class="attr">bgborder</span>=<span class="string">"get:skin_settings.design_bgborder"</span> <span class="attr">bgroundedge</span>=<span class="string">"get:skin_settings.design_bgroundedge"</span> <span class="attr">bgshadow</span>=<span class="string">"get:skin_settings.design_bgshadow"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 控制按钮区域 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_control_bar"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"bottom"</span> <span class="attr">width</span>=<span class="string">"get:skin_settings.controlbar_width"</span> <span class="attr">height</span>=<span class="string">"calc:skin_settings.controlbar_height"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"get:skin_settings.controlbar_offset"</span> <span class="attr">onloaded</span>=<span class="string">"skin_calc_opened_closed();"</span> <span class="attr">zorder</span>=<span class="string">"3"</span>&gt;</span></div><div class="line">            <span class="comment">&lt;!-- 控制按钮 --&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_control_bar_buttons"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"leftbottom"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"get:skin_settings.controlbar_height"</span>&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 前一个场景按钮 --&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_prev"</span>      <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|64|64|64"</span>   <span class="attr">align</span>=<span class="string">"left"</span>        <span class="attr">x</span>=<span class="string">"5"</span>    <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">alpha</span>=<span class="string">"0.5"</span>  <span class="attr">onclick</span>=<span class="string">"if(skin_settings.thumbs_loop, skin_nextscene_loop(-1), skin_nextscene(-1) );"</span> /&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 缩略图按钮，点击后调用skin_showthumbs方法动画展示缩略图--&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_thumbs"</span>    <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|128|64|64"</span>  <span class="attr">align</span>=<span class="string">"left"</span>        <span class="attr">x</span>=<span class="string">"50"</span>   <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">ondown2</span>=<span class="string">"skin_showmap(false); skin_showthumbs();"</span> /&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 地图按钮，点击后会隐藏缩略图--&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_map"</span>       <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"64|128|64|64"</span> <span class="attr">align</span>=<span class="string">"left"</span>        <span class="attr">x</span>=<span class="string">"90"</span>   <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">ondown2</span>=<span class="string">"skin_showthumbs(false); skin_showmap();"</span> <span class="attr">visible</span>=<span class="string">"false"</span> /&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 导航栏包括上下左右移动放大与缩小，鼠标按下距离+或-1，抬起初始化为默认的0 --&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_navi"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"240"</span> <span class="attr">height</span>=<span class="string">"32"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_left"</span>  <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|192|64|64"</span>  <span class="attr">align</span>=<span class="string">"center"</span>      <span class="attr">x</span>=<span class="string">"-100"</span> <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">ondown2</span>=<span class="string">"set(hlookat_moveforce,-1);"</span> <span class="attr">onup2</span>=<span class="string">"set(hlookat_moveforce,0);"</span> /&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_right"</span> <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"64|192|64|64"</span> <span class="attr">align</span>=<span class="string">"center"</span>      <span class="attr">x</span>=<span class="string">"-60"</span>  <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">ondown2</span>=<span class="string">"set(hlookat_moveforce,+1);"</span> <span class="attr">onup2</span>=<span class="string">"set(hlookat_moveforce,0);"</span> /&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_up"</span>    <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|256|64|64"</span>  <span class="attr">align</span>=<span class="string">"center"</span>      <span class="attr">x</span>=<span class="string">"-20"</span>  <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">ondown2</span>=<span class="string">"set(vlookat_moveforce,-1);"</span> <span class="attr">onup2</span>=<span class="string">"set(vlookat_moveforce,0);"</span> /&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_down"</span>  <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"64|256|64|64"</span> <span class="attr">align</span>=<span class="string">"center"</span>      <span class="attr">x</span>=<span class="string">"+20"</span>  <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">ondown2</span>=<span class="string">"set(vlookat_moveforce,+1);"</span> <span class="attr">onup2</span>=<span class="string">"set(vlookat_moveforce,0);"</span> /&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_in"</span>    <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|320|64|64"</span>  <span class="attr">align</span>=<span class="string">"center"</span>      <span class="attr">x</span>=<span class="string">"+60"</span>  <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">ondown2</span>=<span class="string">"set(fov_moveforce,-1);"</span>     <span class="attr">onup2</span>=<span class="string">"set(fov_moveforce,0);"</span> /&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_out"</span>   <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"64|320|64|64"</span> <span class="attr">align</span>=<span class="string">"center"</span>      <span class="attr">x</span>=<span class="string">"+100"</span> <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">ondown2</span>=<span class="string">"set(fov_moveforce,+1);"</span>     <span class="attr">onup2</span>=<span class="string">"set(fov_moveforce,0);"</span> /&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 开启或关闭陀螺仪按钮 --&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_gyro"</span>      <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|384|64|64"</span>  <span class="attr">align</span>=<span class="string">"center"</span>      <span class="attr">x</span>=<span class="string">"+140"</span> <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">onclick</span>=<span class="string">"switch(plugin[skin_gyro].enabled); if(plugin[skin_gyro].enabled, skin_showmap(false));"</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">devices</span>=<span class="string">"html5"</span> /&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 进入VR模式按钮 --&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_vr"</span>        <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|0|80|64"</span>    <span class="attr">align</span>=<span class="string">"center"</span>      <span class="attr">x</span>=<span class="string">"+146"</span> <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">onclick</span>=<span class="string">"webvr.enterVR();"</span> <span class="attr">visible</span>=<span class="string">"false"</span> /&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 全屏按钮 --&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_fs"</span>        <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|576|64|64"</span>  <span class="attr">align</span>=<span class="string">"right"</span>       <span class="attr">x</span>=<span class="string">"90"</span>   <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">onclick</span>=<span class="string">"switch(fullscreen);"</span> <span class="attr">devices</span>=<span class="string">"fullscreensupport"</span> /&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 隐藏控制条按钮 --&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_hide"</span>      <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|448|64|64"</span>  <span class="attr">align</span>=<span class="string">"right"</span>       <span class="attr">x</span>=<span class="string">"50"</span>   <span class="attr">y</span>=<span class="string">"0"</span>  <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">onclick</span>=<span class="string">"skin_hideskin()"</span> /&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 显示控制条按钮 --&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_show"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">bgcapture</span>=<span class="string">"true"</span> <span class="attr">align</span>=<span class="string">"bottom"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"get:skin_settings.controlbar_height"</span> <span class="attr">y</span>=<span class="string">"calc:skin_settings.controlbar_height - skin_settings.controlbar_offset_closed"</span> <span class="attr">onclick</span>=<span class="string">"skin_showskin()"</span> <span class="attr">onhover</span>=<span class="string">"tween(alpha,1.0);"</span> <span class="attr">onout</span>=<span class="string">"tween(alpha,0.25);"</span> <span class="attr">ondown.touch</span>=<span class="string">"onhover();"</span> <span class="attr">onup.touch</span>=<span class="string">"onout();"</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">capture</span>=<span class="string">"false"</span> <span class="attr">alpha</span>=<span class="string">"0.0"</span>&gt;</span></div><div class="line">                    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_show_icon"</span> <span class="attr">style</span>=<span class="string">"skin_base"</span> <span class="attr">crop</span>=<span class="string">"64|448|64|64"</span> <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">align</span>=<span class="string">"bottom"</span> <span class="attr">y</span>=<span class="string">"2"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> /&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">                <span class="comment">&lt;!-- 下一个场景按钮 --&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_next"</span>      <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"64|64|64|64"</span>  <span class="attr">align</span>=<span class="string">"right"</span>       <span class="attr">x</span>=<span class="string">"5"</span>    <span class="attr">y</span>=<span class="string">"0"</span>   <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">alpha</span>=<span class="string">"0.5"</span>  <span class="attr">onclick</span>=<span class="string">"if(skin_settings.thumbs_loop, skin_nextscene_loop(+1), skin_nextscene(+1) );"</span> /&gt;</span></div><div class="line">                <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 显示加载中文字图层 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_loadingtext"</span> <span class="attr">url</span>=<span class="string">"%SWFPATH%/plugins/textfield.swf"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">x</span>=<span class="string">"5"</span> <span class="attr">y</span>=<span class="string">"-5"</span> <span class="attr">html</span>=<span class="string">"get:skin_settings.loadingtext"</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">autoheight</span>=<span class="string">"true"</span> <span class="attr">background</span>=<span class="string">"false"</span> <span class="attr">border</span>=<span class="string">"false"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> <span class="attr">css</span>=<span class="string">"calc:skin_settings.design_text_css + ' text-align:center; font-style:italic; font-size:22px;'"</span> <span class="attr">textshadow</span>=<span class="string">"get:skin_settings.design_text_shadow"</span> /&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 发光的背景图片，用于按钮点击效果 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_buttonglow"</span>  <span class="attr">style</span>=<span class="string">"skin_base"</span> <span class="attr">crop</span>=<span class="string">"64|384|64|64"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"1"</span> <span class="attr">scale</span>=<span class="string">"1.0"</span> <span class="attr">alpha</span>=<span class="string">"0.0"</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> /&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 缩略图选择边框效果 --&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_thumbborder"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">x</span>=<span class="string">"get:skin_settings.design_thumbborder_padding"</span> <span class="attr">y</span>=<span class="string">"get:skin_settings.design_thumbborder_padding"</span> <span class="attr">width</span>=<span class="string">"calc:skin_settings.thumbs_width - 2*skin_settings.design_thumbborder_padding"</span> <span class="attr">height</span>=<span class="string">"calc:skin_settings.thumbs_height - 2*skin_settings.design_thumbborder_padding"</span> <span class="attr">visible</span>=<span class="string">"false"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> <span class="attr">align</span>=<span class="string">"lefttop"</span> <span class="attr">bgborder</span>=<span class="string">"get:skin_settings.design_thumbborder_bgborder"</span> <span class="attr">bgroundedge</span>=<span class="string">"get:skin_settings.design_thumbborder_bgroundedge"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- previous/next scene buttons for the hidden skin mode --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 隐藏控制条时显示的用于场景切换的按钮 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_prev_fs"</span> <span class="attr">keep</span>=<span class="string">"true"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"lefttop"</span>  <span class="attr">x</span>=<span class="string">"-50"</span> <span class="attr">width</span>=<span class="string">"40"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">bgcapture</span>=<span class="string">"true"</span> <span class="attr">alpha</span>=<span class="string">"0.25"</span> <span class="attr">capture</span>=<span class="string">"false"</span> <span class="attr">zorder</span>=<span class="string">"2"</span> <span class="attr">onclick</span>=<span class="string">"skin_nextscene_loop(-1);"</span> <span class="attr">onhover</span>=<span class="string">"tween(alpha,1.0);"</span> <span class="attr">onout</span>=<span class="string">"tween(alpha,0.25);"</span> <span class="attr">ondown.touch</span>=<span class="string">"onhover();"</span> <span class="attr">onup.touch</span>=<span class="string">"onout();"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_prev_fs_icon"</span> <span class="attr">style</span>=<span class="string">"skin_base"</span> <span class="attr">crop</span>=<span class="string">"0|64|64|64"</span>  <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_next_fs"</span> <span class="attr">keep</span>=<span class="string">"true"</span> <span class="attr">type</span>=<span class="string">"container"</span> <span class="attr">align</span>=<span class="string">"righttop"</span> <span class="attr">x</span>=<span class="string">"-50"</span> <span class="attr">width</span>=<span class="string">"40"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">bgcapture</span>=<span class="string">"true"</span> <span class="attr">alpha</span>=<span class="string">"0.25"</span> <span class="attr">capture</span>=<span class="string">"false"</span> <span class="attr">zorder</span>=<span class="string">"2"</span> <span class="attr">onclick</span>=<span class="string">"skin_nextscene_loop(+1);"</span> <span class="attr">onhover</span>=<span class="string">"tween(alpha,1.0);"</span> <span class="attr">onout</span>=<span class="string">"tween(alpha,0.25);"</span> <span class="attr">ondown.touch</span>=<span class="string">"onhover();"</span> <span class="attr">onup.touch</span>=<span class="string">"onout();"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_btn_next_fs_icon"</span> <span class="attr">style</span>=<span class="string">"skin_base"</span> <span class="attr">crop</span>=<span class="string">"64|64|64|64"</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">scale</span>=<span class="string">"0.5"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">layer</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- gyro plugin --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 陀螺仪插件 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">name</span>=<span class="string">"skin_gyro"</span> <span class="attr">keep</span>=<span class="string">"true"</span> <span class="attr">url</span>=<span class="string">""</span> <span class="attr">html5_url</span>=<span class="string">"%SWFPATH%/plugins/gyro2.js"</span> <span class="attr">softstart</span>=<span class="string">"1.0"</span> <span class="attr">enabled</span>=<span class="string">"false"</span> <span class="attr">onavailable</span>=<span class="string">"skin_arrange_buttons();"</span> <span class="attr">devices</span>=<span class="string">"html5"</span> /&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- skin events --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 皮肤的事件 </span></div><div class="line">    onxmlcomplete XML加载完成后清除当前事件，调用第一个函数skin_startup</div><div class="line">    onnewpano 加载新场景时skin_showloading显示加载中文字 skin_update_scene_infos 根据URL重新设定初始位置等信息</div><div class="line">    onloadcomplete 加载完成后隐藏加载中文字</div><div class="line">    onidle 空闲时执行URL的信息更新</div><div class="line">    onresize 屏幕尺寸变化时执行一次skin_onresize，当每次加载新的pano时onresize也会被触发一次</div><div class="line">    onenterfullscreen onexitfullscreen 进入退出全屏时更新全屏按钮的图标</div><div class="line">    onkeydown 监听键盘事件--&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">events</span> <span class="attr">name</span>=<span class="string">"skin_events"</span> <span class="attr">keep</span>=<span class="string">"true"</span></span></div><div class="line">            <span class="attr">onxmlcomplete</span>=<span class="string">"set(events[skin_events].onxmlcomplete,null); skin_startup();"</span></div><div class="line">            <span class="attr">onnewpano</span>=<span class="string">"skin_showloading(true); skin_update_scene_infos(); skin_deeplinking_update_url();"</span></div><div class="line">            <span class="attr">onremovepano</span>=<span class="string">"skin_showloading(true);"</span></div><div class="line">            <span class="attr">onloadcomplete</span>=<span class="string">"skin_showloading(false);"</span></div><div class="line">            <span class="attr">onidle</span>=<span class="string">"skin_deeplinking_update_url();"</span></div><div class="line">            <span class="attr">onresize</span>=<span class="string">"skin_onresize();"</span></div><div class="line">            <span class="attr">onenterfullscreen.fullscreensupport</span>=<span class="string">"set(layer[skin_btn_fs].crop, '64|576|64|64');"</span></div><div class="line">            <span class="attr">onexitfullscreen.fullscreensupport</span>=<span class="string">"set(layer[skin_btn_fs].crop, '0|576|64|64');"</span></div><div class="line">            <span class="attr">onkeydown</span>=<span class="string">"skin_keydown_event();"</span></div><div class="line">            /&gt;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- skin actions --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 当前皮肤的启动函数 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_startup"</span>&gt;</span></div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- apply skin settings on startup --&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 根据设置确定缩略图是否在打开时就显示，并且设定是否可拖拽，鼠标的情况下设置为滚动 --&gt;</span></div><div class="line">        if(skin_settings.thumbs,</div><div class="line">            if(skin_settings.thumbs_opened, set(layer[skin_thumbs].state,'opened'); set(layer[skin_thumbs_container].visible,true); );</div><div class="line">            copy(layer[skin_thumbs].draggable, skin_settings.thumbs_dragging);</div><div class="line">            if(skin_settings.thumbs_onhoverscrolling AND device.mouse,</div><div class="line">                set(layer[skin_thumbs].draggable, false);</div><div class="line">                set(layer[skin_thumbs].onhover_autoscrolling, true);</div><div class="line">              );</div><div class="line">          );</div><div class="line">        <span class="comment">&lt;!-- html5的情况下加载陀螺仪插件 --&gt;</span></div><div class="line">        if(skin_settings.gyro AND !device.desktop AND device.html5,</div><div class="line">            copy(plugin[skin_gyro].url, plugin[skin_gyro].html5_url);</div><div class="line">          );</div><div class="line">        <span class="comment">&lt;!-- html5并且支持WebVR的情况下加载WebVR插件 --&gt;</span></div><div class="line">        if(skin_settings.webvr AND device.html5 AND device.webgl,</div><div class="line">            copy(plugin[WebVR].url, plugin[WebVR].pluginurl);</div><div class="line">          );</div><div class="line">        <span class="comment">&lt;!-- 是否显示地图插件 --&gt;</span></div><div class="line">        if(skin_settings.maps == true,</div><div class="line">            set(layer[skin_btn_map].visible, true);</div><div class="line"></div><div class="line">            if(device.flash,</div><div class="line">                copy(layer[skin_map].key, skin_settings.maps_bing_api_key);</div><div class="line">                set(layer[skin_map].url, '%SWFPATH%/plugins/bingmaps.swf');</div><div class="line">              ,</div><div class="line">                if(skin_settings.maps_type == 'bing',</div><div class="line">                    copy(layer[skin_map].key, skin_settings.maps_bing_api_key);</div><div class="line">                    set(layer[skin_map].url, '%SWFPATH%/plugins/bingmaps.js');</div><div class="line">                  ,</div><div class="line">                    copy(layer[skin_map].key, skin_settings.maps_google_api_key);</div><div class="line">                    set(layer[skin_map].url, '%SWFPATH%/plugins/googlemaps.js');</div><div class="line">                  );</div><div class="line">              );</div><div class="line">          );</div><div class="line">        <span class="comment">&lt;!-- 小行星入场方式，只有支持WebGL和flash的情况下才可以 --&gt;</span></div><div class="line">        if(skin_settings.littleplanetintro AND (device.webgl OR device.flash),</div><div class="line">            skin_setup_littleplanetintro();</div><div class="line">          );</div><div class="line">        <span class="comment">&lt;!-- 增加缩略图 --&gt;</span></div><div class="line">        skin_addthumbs();</div><div class="line">        <span class="comment">&lt;!-- 调用onresize --&gt;</span></div><div class="line">        skin_onresize();</div><div class="line">        <span class="comment">&lt;!-- skin_updatescroll --&gt;</span></div><div class="line">        skin_updatescroll();</div><div class="line">        <span class="comment">&lt;!-- 显示下方控制条 --&gt;</span></div><div class="line">        set(layer[skin_layer].visible, true);</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 增加缩略图 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_addthumbs"</span>&gt;</span></div><div class="line">        if(skin_settings.thumbs == false,</div><div class="line">            set(layer[skin_btn_thumbs].visible,false);</div><div class="line">          ,</div><div class="line">            copy(thumbwidth, skin_settings.thumbs_width);</div><div class="line">            copy(thumbheight, skin_settings.thumbs_height);</div><div class="line">            copy(thumbpadding, skin_settings.thumbs_padding);</div><div class="line">            copy(thumbcrop, skin_settings.thumbs_crop);</div><div class="line"></div><div class="line">            add(thumbxoffset, thumbwidth, thumbpadding);</div><div class="line">            mul(thumbxcenter, thumbxoffset, 0.5);</div><div class="line">            mul(thumbbarwidth, thumbxoffset, scene.count);</div><div class="line">            add(thumbbarwidth, thumbpadding);</div><div class="line">            add(thumbbarheight, thumbpadding, thumbheight);</div><div class="line">            add(thumbbarheight, thumbpadding);</div><div class="line"></div><div class="line">            if(skin_settings.thumbs_scrollindicator,</div><div class="line">                copy(layer[skin_thumbs_scrollindicator].y, thumbbarheight);</div><div class="line">                add(thumbbarheight, layer[skin_thumbs_scrollindicator].height);</div><div class="line">            );</div><div class="line"></div><div class="line">            copy(layer[skin_thumbs].height, thumbbarheight);</div><div class="line">            copy(layer[skin_thumbs].width, thumbbarwidth);</div><div class="line"></div><div class="line">            mul(halfheight, thumbbarheight, 0.5);</div><div class="line">            copy(layer[skin_thumbs_scrollleft].y, halfheight);</div><div class="line">            copy(layer[skin_thumbs_scrollright].y, halfheight);</div><div class="line">            <span class="comment">&lt;!-- 遍历所有scene并且根据序号设置缩略图名称，并且根据设置添加缩略图文字 --&gt;</span></div><div class="line">            set(thumb_cnt,0);</div><div class="line">            for(set(i,0), i LT scene.count, inc(i),</div><div class="line">                inc(thumb_cnt);</div><div class="line">                txtadd(thumbname,'skin_thumb_',get(i));</div><div class="line">                addlayer(get(thumbname));</div><div class="line">                copy(layer[get(thumbname)].url, scene[get(i)].thumburl);</div><div class="line">                set(layer[get(thumbname)].keep, true);</div><div class="line">                set(layer[get(thumbname)].parent, 'skin_thumbs');</div><div class="line">                set(layer[get(thumbname)].align, lefttop);</div><div class="line">                copy(layer[get(thumbname)].crop, thumbcrop);</div><div class="line">                copy(layer[get(thumbname)].width, thumbwidth);</div><div class="line">                copy(layer[get(thumbname)].height, thumbheight);</div><div class="line">                mul(thumbx, i, thumbxoffset);</div><div class="line">                add(thumbx, thumbpadding);</div><div class="line">                copy(layer[get(thumbname)].x, thumbx);</div><div class="line">                copy(layer[get(thumbname)].y, thumbpadding);</div><div class="line">                add(scene[get(i)].thumbx, thumbx, thumbxcenter);</div><div class="line">                copy(scene[get(i)].thumby, thumbpadding);</div><div class="line">                set(layer[get(thumbname)].linkedscene, get(scene[get(i)].name) );</div><div class="line">                set(layer[get(thumbname)].onclick, copy(layer[skin_thumbborder].parent, name); skin_loadscene(get(linkedscene),get(skin_settings.loadscene_blend)); );</div><div class="line">                if(skin_settings.tooltips_thumbs,</div><div class="line">                    set(layer[get(thumbname)].tooltip, get(scene[get(i)].title) );</div><div class="line">                    layer[get(thumbname)].loadstyle(skin_tooltips);</div><div class="line">                  );</div><div class="line">                if(skin_settings.thumbs_text,</div><div class="line">                    txtadd(thumbtext, 'skin_thumbtext_', get(i));</div><div class="line">                    addlayer(get(thumbtext));</div><div class="line">                    layer[get(thumbtext)].loadstyle(skin_thumbtext_style);</div><div class="line">                    set(layer[get(thumbtext)].keep, true);</div><div class="line">                    set(layer[get(thumbtext)].parent, get(thumbname));</div><div class="line">                    set(layer[get(thumbtext)].html, get(scene[get(i)].title));</div><div class="line">                  );</div><div class="line">               );</div><div class="line"></div><div class="line">            if(thumb_cnt == 1,</div><div class="line">                set(layer[skin_thumbs].align, 'lefttop');</div><div class="line">              );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 设置地图热点 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_addmapspots"</span>&gt;</span></div><div class="line">        for(set(i,0), i LT scene.count, inc(i),</div><div class="line">            if(scene[get(i)].lat,</div><div class="line">                txtadd(spotname, 'spot', get(i));</div><div class="line">                txtadd(spotclickevent, 'skin_hidetooltips(); activatespot(',get(spotname),'); skin_loadscene(', get(scene[get(i)].name), ',get(skin_settings.loadscene_blend)); skin_updatescroll(); delayedcall(0.5,skin_showmap(false));');</div><div class="line">                copy(scene[get(i)].mapspotname, spotname);</div><div class="line">                addspot(get(spotname), get(scene[get(i)].lat), get(scene[get(i)].lng), get(scene[get(i)].heading), false, get(spotclickevent), null);</div><div class="line">                if(skin_settings.tooltips_mapspots,</div><div class="line">                    set(layer[skin_map].spot[get(spotname)].tooltip, get(scene[get(i)].title) );</div><div class="line">                    txtadd(layer[skin_map].spot[get(spotname)].onover, 'set(hovering,true);',  get(style[skin_tooltips].onover) );</div><div class="line">                    txtadd(layer[skin_map].spot[get(spotname)].onout,  'set(hovering,false);', get(style[skin_tooltips].onout)  );</div><div class="line">                  );</div><div class="line">              );</div><div class="line">          );</div><div class="line"></div><div class="line">        if(xml.scene != null,</div><div class="line">            activatespot( get(scene[get(xml.scene)].mapspotname) );</div><div class="line">          ,</div><div class="line">            activatespot(spot0);</div><div class="line">          );</div><div class="line"></div><div class="line">        <span class="comment">&lt;!-- zoom and pan the map to see all spots at the same time --&gt;</span></div><div class="line">        zoomToSpotsExtent();</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 小行星入场方式 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_setup_littleplanetintro"</span>&gt;</span></div><div class="line">        copy(lp_scene, xml.scene);</div><div class="line">        copy(lp_hlookat, view.hlookat);</div><div class="line">        copy(lp_vlookat, view.vlookat);</div><div class="line">        copy(lp_fov, view.fov);</div><div class="line">        copy(lp_fovmax, view.fovmax);</div><div class="line">        copy(lp_limitview, view.limitview);</div><div class="line">        set(view.fovmax, 170);</div><div class="line">        set(view.limitview, lookto);</div><div class="line">        set(view.vlookatmin, 90);</div><div class="line">        set(view.vlookatmax, 90);</div><div class="line">        lookat(calc(lp_hlookat - 180), 90, 150, 1, 0, 0);</div><div class="line">        set(events[lp_events].onloadcomplete,</div><div class="line">            delayedcall(0.5,</div><div class="line">                if(lp_scene === xml.scene,</div><div class="line">                    set(control.usercontrol, off);</div><div class="line">                    copy(view.limitview, lp_limitview);</div><div class="line">                    set(view.vlookatmin, null);</div><div class="line">                    set(view.vlookatmax, null);</div><div class="line">                    tween(view.hlookat|view.vlookat|view.fov|view.distortion, calc('' + lp_hlookat + '|' + lp_vlookat + '|' + lp_fov + '|' + 0.0),</div><div class="line">                        3.0, easeOutQuad,</div><div class="line">                        set(control.usercontrol, all);</div><div class="line">                        tween(view.fovmax, get(lp_fovmax));</div><div class="line">                        );</div><div class="line">                  );</div><div class="line">              );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 跳转到指定的视角，VR模式下要同时更新切换热点的位置 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_lookat"</span>&gt;</span></div><div class="line">        if(webvr.isenabled,</div><div class="line">            <span class="comment">&lt;!-- adjust the VR prev/next hotspots for the view change --&gt;</span></div><div class="line">            calc(hlookat_offset, %1 - view.hlookat);</div><div class="line">            add(hotspot[webvr_prev_scene].ath, hlookat_offset);</div><div class="line">            add(hotspot[webvr_next_scene].ath, hlookat_offset);</div><div class="line">          );</div><div class="line">        if(plugin[skin_gyro].enabled,</div><div class="line">            <span class="comment">&lt;!-- reset the gyro tracking --&gt;</span></div><div class="line">            plugin[skin_gyro].resetsensor(%1);</div><div class="line">          );</div><div class="line">        <span class="comment">&lt;!-- change the view --&gt;</span></div><div class="line">        lookat(%1, %2, %3);</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 皮肤重置位置 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_onresize"</span>&gt;</span></div><div class="line">        mul(mh, area.pixelheight, -1);</div><div class="line">        if(layer[skin_thumbs].state == 'opened', add(mh,layer[skin_thumbs].height); );</div><div class="line">        if(layer[skin_map].state    == 'opened', sub(hh,area.pixelheight,skin_settings.controlbar_offset); sub(hh,layer[skin_control_bar].height); sub(hh,32); add(mh,hh); add(mh,skin_settings.controlbar_overlap); sub(mh, layer[skin_scroll_layer].y_offset); copy(layer[skin_map].height, hh); );</div><div class="line">        add(mh, layer[skin_scroll_layer].y_offset);</div><div class="line">        set(layer[skin_scroll_layer].y, get(mh));</div><div class="line">        skin_video_updateseekbarwidth();</div><div class="line">        skin_arrange_buttons();</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- determine the visibility of the buttons and calculate their positions --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 判断是否显示按钮并且计算他们的位置 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_arrange_buttons"</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 通过场景树是否大于1确定是否显示场景切换按钮 --&gt;</span></div><div class="line">        calc(show_selbuttons, scene.count GT 1);</div><div class="line">        calc(show_thumbutton, skin_settings.thumbs == true);</div><div class="line">        calc(show_mapbutton,  skin_settings.maps == true);</div><div class="line">        calc(show_gyrobutton, plugin[skin_gyro].available == true AND (view.vlookatrange == 180 OR lp_scene === xml.scene));</div><div class="line">        calc(show_vrbutton,   webvr.isavailable == true);</div><div class="line">        calc(show_fsbutton,   device.fullscreensupport == true);</div><div class="line"></div><div class="line">        set(lpos,6);</div><div class="line">        set(cpos,0);</div><div class="line">        if(show_gyrobutton, dec(cpos,20));</div><div class="line">        if(show_vrbutton, dec(cpos,24));</div><div class="line">        set(rpos,6);</div><div class="line">        <span class="comment">&lt;!-- 非手机且展示宽度去除VR和陀螺仪按钮宽度后大于520时显示方向控制按钮 --&gt;</span></div><div class="line">        calc(show_dirbuttons, !device.mobile AND ((area.pixelwidth + 2*cpos) GT 520));</div><div class="line"></div><div class="line">        copy(layer[skin_btn_navi].visible, show_dirbuttons);</div><div class="line"></div><div class="line">        copy(layer[skin_btn_prev].visible, show_selbuttons);</div><div class="line">        copy(layer[skin_btn_next].visible, show_selbuttons);</div><div class="line">        if(show_selbuttons, inc(lpos,44); inc(rpos,44); );</div><div class="line"></div><div class="line">        copy(layer[skin_btn_thumbs].visible, show_thumbutton);</div><div class="line">        copy(layer[skin_btn_thumbs].x, lpos);</div><div class="line">        if(show_thumbutton, inc(lpos,40));</div><div class="line"></div><div class="line">        copy(layer[skin_btn_map].visible, show_mapbutton);</div><div class="line">        copy(layer[skin_btn_map].x, lpos);</div><div class="line">        if(show_mapbutton, inc(lpos,40));</div><div class="line">        <span class="comment">&lt;!-- 如果贤惠方向控制按钮需要重新设置按钮的列方式 --&gt;</span></div><div class="line">        if(show_dirbuttons,</div><div class="line">            copy(layer[skin_btn_navi].x, cpos);</div><div class="line">            inc(cpos,140);</div><div class="line"></div><div class="line">            set(layer[skin_btn_gyro].align, center);</div><div class="line">            copy(layer[skin_btn_gyro].visible, show_gyrobutton);</div><div class="line">            copy(layer[skin_btn_gyro].x, cpos);</div><div class="line">            if(show_gyrobutton, inc(cpos,48));</div><div class="line"></div><div class="line">            set(layer[skin_btn_vr].align, center);</div><div class="line">            copy(layer[skin_btn_vr].visible, show_vrbutton);</div><div class="line">            copy(layer[skin_btn_vr].x, cpos);</div><div class="line">            if(show_vrbutton, inc(cpos,80));</div><div class="line">          ,</div><div class="line">            set(layer[skin_btn_gyro].align, left);</div><div class="line">            copy(layer[skin_btn_gyro].visible, show_gyrobutton);</div><div class="line">            copy(layer[skin_btn_gyro].x, lpos);</div><div class="line">            if(show_gyrobutton, inc(lpos,40));</div><div class="line"></div><div class="line">            set(layer[skin_btn_vr].align, left);</div><div class="line">            copy(layer[skin_btn_vr].visible, show_vrbutton);</div><div class="line">            copy(layer[skin_btn_vr].x, lpos);</div><div class="line">            if(show_vrbutton, inc(lpos,80));</div><div class="line">          );</div><div class="line"></div><div class="line">        copy(layer[skin_btn_hide].x, rpos);</div><div class="line">        inc(rpos,40);</div><div class="line"></div><div class="line">        copy(layer[skin_btn_fs].visible, show_fsbutton);</div><div class="line">        copy(layer[skin_btn_fs].x, rpos);</div><div class="line">        if(show_fsbutton, inc(rpos,40));</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 将当前的scene缩略图设置到正中央 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_updatescroll"</span>&gt;</span></div><div class="line">        if(layer[skin_thumbs].loaded,</div><div class="line">            set(cursceneindex, 0);</div><div class="line">            if(xml.scene, copy(cursceneindex, scene[get(xml.scene)].index));</div><div class="line">            layer[skin_thumbs].setcenter(get(scene[get(cursceneindex)].thumbx), get(scene[get(cursceneindex)].thumby));</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 更新滑动组件 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_updatethumbscroll"</span>&gt;</span></div><div class="line">        copy(padding,skin_settings.thumbs_padding);</div><div class="line"></div><div class="line">        if(skin_settings.thumbs_scrollbuttons,</div><div class="line">            if(loverflow GT 0, set(layer[skin_thumbs_scrollleft].visible,true),  set(layer[skin_thumbs_scrollleft].visible,false) );</div><div class="line">            if(roverflow GT 0, set(layer[skin_thumbs_scrollright].visible,true), set(layer[skin_thumbs_scrollright].visible,false) );</div><div class="line">          );</div><div class="line"></div><div class="line">        if(skin_settings.thumbs_scrollindicator,</div><div class="line">            if(woverflow GT 0,</div><div class="line">                set(layer[skin_thumbs_scrollindicator].visible,true);</div><div class="line">                sub(iw,pixelwidth,woverflow);</div><div class="line">                div(pw,iw,pixelwidth);</div><div class="line">                div(px,loverflow,woverflow);</div><div class="line">                mul(pw,iw);</div><div class="line">                copy(layer[skin_thumbs_scrollindicator].width,pw);</div><div class="line">                sub(iw,pw);</div><div class="line">                sub(iw,padding);</div><div class="line">                sub(iw,padding);</div><div class="line">                mul(px,iw);</div><div class="line">                add(px,padding);</div><div class="line">                copy(layer[skin_thumbs_scrollindicator].x,px);</div><div class="line">              ,</div><div class="line">                set(layer[skin_thumbs_scrollindicator].visible,false);</div><div class="line">              );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 更新场景信息 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_update_scene_infos"</span>&gt;</span></div><div class="line">        if(xml.scene !== null AND scene[get(xml.scene)].index GE 0,</div><div class="line">            <span class="comment">&lt;!-- 设置场景名称 --&gt;</span></div><div class="line">            if(skin_settings.title,</div><div class="line">                if(title, txtadd(layer[skin_title].html, get(title), ' - ', get(scene[get(xml.scene)].title) ); , copy(layer[skin_title].html, scene[get(xml.scene)].title ); );</div><div class="line">                delayedcall(0.1, set(layer[skin_title].visible,true) );</div><div class="line">              );</div><div class="line">            <span class="comment">&lt;!-- 如果不循环根据当前场景的序号设置切换按钮显示 --&gt;</span></div><div class="line">            if(skin_settings.thumbs_loop == false,</div><div class="line">                if(scene[get(xml.scene)].index GT 0,</div><div class="line">                    set(layer[skin_btn_prev].enabled, true);</div><div class="line">                    set(layer[skin_btn_prev].alpha, 1.0);</div><div class="line">                  ,</div><div class="line">                    set(layer[skin_btn_prev].enabled, false);</div><div class="line">                    set(layer[skin_btn_prev].alpha, 0.3);</div><div class="line">                  );</div><div class="line"></div><div class="line">                sub(lastsceneindex, scene.count, 1);</div><div class="line">                if(scene[get(xml.scene)].index LT lastsceneindex,</div><div class="line">                    set(layer[skin_btn_next].enabled, true);</div><div class="line">                    set(layer[skin_btn_next].alpha, 1.0);</div><div class="line">                  ,</div><div class="line">                    set(layer[skin_btn_next].enabled, false);</div><div class="line">                    set(layer[skin_btn_next].alpha, 0.3);</div><div class="line">                  );</div><div class="line">              ,</div><div class="line">                if(scene.count GT 1,</div><div class="line">                    set(layer[skin_btn_prev].enabled, true);</div><div class="line">                    set(layer[skin_btn_prev].alpha, 1.0);</div><div class="line">                    set(layer[skin_btn_next].enabled, true);</div><div class="line">                    set(layer[skin_btn_next].alpha, 1.0);</div><div class="line">                  ,</div><div class="line">                    set(layer[skin_btn_prev].enabled, false);</div><div class="line">                    set(layer[skin_btn_prev].alpha, 0.3);</div><div class="line">                    set(layer[skin_btn_next].enabled, false);</div><div class="line">                    set(layer[skin_btn_next].alpha, 0.3);</div><div class="line">                  );</div><div class="line">              );</div><div class="line"></div><div class="line">            if(scene.count GT 1,</div><div class="line">                set(layer[skin_btn_prev_fs].visible, true);</div><div class="line">                set(layer[skin_btn_next_fs].visible, true);</div><div class="line">              ,</div><div class="line">                set(layer[skin_btn_prev_fs].visible, false);</div><div class="line">                set(layer[skin_btn_next_fs].visible, false);</div><div class="line">              );</div><div class="line">            <span class="comment">&lt;!-- 设置当前场景的缩略图为选中式样 --&gt;</span></div><div class="line">            txtadd(parentname, 'skin_thumb_', get(scene[get(xml.scene)].index));</div><div class="line">            if(layer[get(parentname)],</div><div class="line">                set(layer[skin_thumbborder].parent, get(parentname));</div><div class="line">                set(layer[skin_thumbborder].visible, true);</div><div class="line">              ,</div><div class="line">                set(layer[skin_thumbborder].visible, false);</div><div class="line">              );</div><div class="line"></div><div class="line">            if(scene[get(xml.scene)].mapspotname,</div><div class="line">                layer[skin_map].activatespot(get(scene[get(xml.scene)].mapspotname));</div><div class="line">                layer[skin_map].pantospot(get(scene[get(xml.scene)].mapspotname));</div><div class="line">              );</div><div class="line">            <span class="comment">&lt;!-- 设置陀螺仪按钮是否显示 --&gt;</span></div><div class="line">            if(plugin[skin_gyro].isavailable == true AND view.vlookatrange == 180,</div><div class="line">                set(layer[skin_btn_gyro].visible, true);</div><div class="line">              ,</div><div class="line">                set(layer[skin_btn_gyro].visible, false)</div><div class="line">              );</div><div class="line">            <span class="comment">&lt;!-- 设置反弹效果 --&gt;</span></div><div class="line">            if(view.vlookatrange LT 180,</div><div class="line">                if(backup_control_bouncinglimits === null,</div><div class="line">                    copy(backup_control_bouncinglimits, control.bouncinglimits);</div><div class="line">                  );</div><div class="line">                set(control.bouncinglimits, false);</div><div class="line">              ,</div><div class="line">                if(backup_control_bouncinglimits !== null,</div><div class="line">                    copy(control.bouncinglimits, backup_control_bouncinglimits);</div><div class="line">                  );</div><div class="line">              );</div><div class="line">            <span class="comment">&lt;!-- 如果当前场景为视频则加载视频控制条 --&gt;</span></div><div class="line">            if(scene[get(xml.scene)].isvideopano AND plugin[video] !== null,</div><div class="line">                skin_video_addcontrols();</div><div class="line">              ,</div><div class="line">                skin_video_removecontrols();</div><div class="line">              );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 跳转到某一指定scene 参数为scene的序号--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_gotoscene"</span>&gt;</span></div><div class="line">        if(scene[%1],</div><div class="line">            copy(cursceneindex, scene[get(xml.scene)].index);</div><div class="line">            copy(newsceneindex, scene[%1].index);</div><div class="line">            skin_loadscene(get(newsceneindex), calc(newsceneindex LT cursceneindex ? skin_settings.loadscene_blend_prev : (newsceneindex GT cursceneindex ? skin_settings.loadscene_blend_next : skin_settings.loadscene_blend)) );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 显示下一个场景（不循环） --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_nextscene"</span>&gt;</span></div><div class="line">        add(newsceneindex, scene[get(xml.scene)].index, %1);</div><div class="line">        if(newsceneindex GE 0 AND newsceneindex LT scene.count,</div><div class="line">            skin_loadscene(get(newsceneindex), calc(%1 LT 0 ? skin_settings.loadscene_blend_prev : skin_settings.loadscene_blend_next));</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 显示下一个场景（循环） --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_nextscene_loop"</span>&gt;</span></div><div class="line">        add(newsceneindex, scene[get(xml.scene)].index, %1);</div><div class="line">        sub(lastsceneindex, scene.count, 1);</div><div class="line">        if(newsceneindex LT 0, copy(newsceneindex,lastsceneindex));</div><div class="line">        if(newsceneindex GT lastsceneindex, set(newsceneindex,0));</div><div class="line">        skin_loadscene(get(newsceneindex), calc(%1 LT 0 ? skin_settings.loadscene_blend_prev : skin_settings.loadscene_blend_next));</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- skin_loadscene(scenenameorindex, blendmode) --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 加载场景如果只有一个场景就WebVR的按钮隐藏，并且在场景缩略图上加上边框效果，blendmode为场景切换动画 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_loadscene"</span>&gt;</span></div><div class="line">        if(webvr.isenabled AND scene.count GT 1,</div><div class="line">            set(hotspot[webvr_prev_scene].visible, false);</div><div class="line">            set(hotspot[webvr_next_scene].visible, false);</div><div class="line">          );</div><div class="line"></div><div class="line">        txtadd(layer[skin_thumbborder].parent, 'skin_thumb_', get(scene[%1].index));</div><div class="line">        layer[skin_thumbs].scrolltocenter(get(scene[%1].thumbx), get(scene[%1].thumby));</div><div class="line">        loadscene(get(scene[%1].name), null, get(skin_settings.loadscene_flags), %2);</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 加载文字是否显示 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_showloading"</span>&gt;</span></div><div class="line">        if(display.stereo == true,</div><div class="line">            set(layer[skin_loadingtext].visible, false);</div><div class="line">          ,</div><div class="line">            set(layer[skin_loadingtext].visible, %1);</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 隐藏tips --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_hidetooltips"</span>&gt;</span></div><div class="line">        set(layer[skin_tooltip].alpha,0.0);</div><div class="line">        set(layer[skin_tooltip].visible,false);</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 按钮的点击效果，在点击的按钮下添加一个Child --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_buttonglow"</span>&gt;</span></div><div class="line">        if('%1' !== 'null',</div><div class="line">            set(strength,0.7);</div><div class="line">            if(%2 != null, set(strength,%2));</div><div class="line">            set(layer[skin_buttonglow].parent, %1);</div><div class="line">            set(layer[skin_buttonglow].visible, true);</div><div class="line">            tween(layer[skin_buttonglow].alpha, get(strength), 0.07);</div><div class="line">          ,</div><div class="line">            tween(layer[skin_buttonglow].alpha, 0.0, 0.1, default,</div><div class="line">                set(layer[skin_buttonglow].parent, null);</div><div class="line">                set(layer[skin_buttonglow].visible, false);</div><div class="line">              );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 设置关闭打开的距离 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_calc_opened_closed"</span>&gt;</span></div><div class="line">        if(layer[get(name)].y_closed === null,</div><div class="line">            set(layer[get(name)].y_opened, get(layer[get(name)].y));</div><div class="line">            set(layer[get(name)].y_closed, calc(layer[get(name)].y - skin_settings.controlbar_offset - skin_settings.controlbar_height + skin_settings.controlbar_offset_closed));</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 隐藏控制条，首先隐藏上方布局，其次底部最后控制条 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_hideskin"</span>&gt;</span></div><div class="line">        callwith(layer[skin_scroll_window],   skin_calc_opened_closed() );</div><div class="line">        callwith(layer[skin_splitter_bottom], skin_calc_opened_closed() );</div><div class="line">        callwith(layer[skin_control_bar],     skin_calc_opened_closed() );</div><div class="line"></div><div class="line">        if(layer[skin_map].state    != 'closed', skin_showmap(false);    wait(0.40); );</div><div class="line">        if(layer[skin_thumbs].state != 'closed', skin_showthumbs(false); wait(0.25); );</div><div class="line"></div><div class="line">        set(hidetime, calc('%1' == 'instant' ? 0.0 : 0.5));</div><div class="line">        tween(layer[skin_scroll_window].y,   get(layer[skin_scroll_window  ].y_closed), get(hidetime));</div><div class="line">        tween(layer[skin_splitter_bottom].y, get(layer[skin_splitter_bottom].y_closed), get(hidetime));</div><div class="line">        tween(layer[skin_control_bar].y,     get(layer[skin_control_bar    ].y_closed), get(hidetime));</div><div class="line"></div><div class="line">        tween(layer[skin_btn_prev_fs].x, 0, get(hidetime));</div><div class="line">        tween(layer[skin_btn_next_fs].x, 0, get(hidetime));</div><div class="line"></div><div class="line">        if(layer[skin_logo], tween(layer[skin_logo].alpha, 0.0, 0.5, default, set(layer[skin_logo].visible,false)); );</div><div class="line"></div><div class="line">        stopdelayedcall(skin_btn_show_alpha);</div><div class="line">        set(layer[skin_btn_show].visible, true);</div><div class="line">        delayedcall(skin_btn_show_alpha, get(hidetime), tween(layer[skin_btn_show].alpha, 0.25, 0.25); );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 显示隐藏的控制条 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_showskin"</span>&gt;</span></div><div class="line">        tween(layer[skin_scroll_window  ].y, get(layer[skin_scroll_window  ].y_opened));</div><div class="line">        tween(layer[skin_splitter_bottom].y, get(layer[skin_splitter_bottom].y_opened));</div><div class="line">        tween(layer[skin_control_bar    ].y, get(layer[skin_control_bar    ].y_opened));</div><div class="line"></div><div class="line">        tween(layer[skin_btn_prev_fs].x, -50);</div><div class="line">        tween(layer[skin_btn_next_fs].x, -50);</div><div class="line"></div><div class="line">        if(layer[skin_logo], set(layer[skin_logo].visible,true); tween(layer[skin_logo].alpha, 1.0); );</div><div class="line"></div><div class="line">        stopdelayedcall(skin_btn_show_alpha);</div><div class="line">        set(layer[skin_btn_show].visible, false);</div><div class="line">        delayedcall(skin_btn_show_alpha, 0.25, tween(layer[skin_btn_show].alpha, 0.0, 0.0); );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 显示缩略图， 首先判断是否已经关闭，layer[skin_scroll_layer].pixelheight=area.pixelheight的值为当前窗口的高度</span></div><div class="line">    假设当前窗口高度为640 1.640*-1=-640 2.减去（layer[skin_thumbs].height）缩略图的高度100 -640+100=-540 3.减去（y_offset）背景重叠区域大小 10 -540+10=-530</div><div class="line">    4. layer[skin_scroll_layer].y大小为负的area.pixelheight+y_offset一开始onresize时设定 则变化范围为 -630 到-530 </div><div class="line">    详细参照http://krpano.com/docu/xml/pluginalignment.png这张图，备注下对于xy属性，默认向下为Y的正向向右为X 的正向，edge未设定时默认和align一个值--&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_showthumbs"</span>&gt;</span></div><div class="line">        if(%1 == null, if(layer[skin_thumbs].state == 'closed', set(show,true), set(show,false)); , set(show,%1); );</div><div class="line">        mul(mh, layer[skin_scroll_layer].pixelheight, -1);</div><div class="line"></div><div class="line">        if(show,</div><div class="line">            set(layer[skin_thumbs].state, 'opened');</div><div class="line">            tween(layer[skin_thumbs].alpha, 1.0, 0.25);</div><div class="line">            add(mh, layer[skin_thumbs].height);</div><div class="line">            add(mh, layer[skin_scroll_layer].y_offset);</div><div class="line">            tween(layer[skin_scroll_layer].y, get(mh), 0.5, easeOutQuint);</div><div class="line">            set(layer[skin_thumbs_container].visible, true);</div><div class="line">            tween(layer[skin_thumbs_container].alpha, 1.0, 0.25);</div><div class="line">            tween(layer[skin_map].alpha, 0.0, 0.25, default, set(layer[skin_map].visible,false));</div><div class="line">          ,</div><div class="line">            set(layer[skin_thumbs].state, 'closed');</div><div class="line">            tween(layer[skin_thumbs].alpha, 0.0, 0.25, easeOutQuint);</div><div class="line">            add(mh, layer[skin_scroll_layer].y_offset);</div><div class="line">            tween(layer[skin_scroll_layer].y, get(mh), 0.5, easeOutQuint, set(layer[skin_thumbs_container].visible, false););</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 显示地图 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_showmap"</span>&gt;</span></div><div class="line">        if(%1 == null, if(layer[skin_map].state == 'closed', set(show,true), set(show,false)); , set(show,%1); );</div><div class="line">        mul(mh, layer[skin_scroll_layer].pixelheight, -1);</div><div class="line">        if(show,</div><div class="line">            tween(layer[skin_thumbs_container].alpha, 0.0, 0.25, default, set(layer[skin_thumbs_container].visible,false));</div><div class="line">            set(layer[skin_map].visible, true);</div><div class="line">            tween(layer[skin_map].alpha, 1.0, 0.25);</div><div class="line">            set(layer[skin_map].state, 'opened');</div><div class="line">            sub(hh,area.pixelheight,skin_settings.controlbar_offset);</div><div class="line">            sub(hh,layer[skin_control_bar].height);</div><div class="line">            sub(hh,32);</div><div class="line">            add(mh,hh);</div><div class="line">            sub(hh,skin_settings.controlbar_overlap);</div><div class="line">            copy(layer[skin_map].height, hh);</div><div class="line">            tween(layer[skin_scroll_layer].y, get(mh), 0.5, easeOutQuint);</div><div class="line">          ,</div><div class="line">            if(layer[skin_map].state != 'closed',</div><div class="line">                set(layer[skin_map].state, 'closed');</div><div class="line">                add(mh, layer[skin_scroll_layer].y_offset);</div><div class="line">                tween(layer[skin_map].alpha, 0.0, 0.5, easeOutQuint);</div><div class="line">                tween(layer[skin_scroll_layer].y, get(mh), 0.5, easeOutQuint, set(layer[skin_map].visible,false) );</div><div class="line">              );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 绑定键盘事件 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_keydown_event"</span>&gt;</span></div><div class="line">        if(keycode == 33, skin_nextscene_loop(-1) );                <span class="comment">&lt;!-- Page Up   - previous scene --&gt;</span></div><div class="line">        if(keycode == 34, skin_nextscene_loop(+1) );                <span class="comment">&lt;!-- Page Dowm - next scene --&gt;</span></div><div class="line">        if(keycode == 35, skin_gotoscene(calc(scene.count-1)) );    <span class="comment">&lt;!-- End       - last scene --&gt;</span></div><div class="line">        if(keycode == 36, skin_gotoscene(0) );                      <span class="comment">&lt;!-- Home/Pos1 - first scene --&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 如果使用深度链接功能调用skin_deeplinking_update_url_process获取链接参数并设置 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_deeplinking_update_url"</span>&gt;</span></div><div class="line">        if(skin_settings.deeplinking AND (!webvr OR webvr.isenabled === false),</div><div class="line">            delayedcall(skin_deeplinking_update, calc(%1 == null ? 0.1 : %1), skin_deeplinking_update_url_process() );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 深度链接功能，通过URL传递场景的初始位置等信息，重新设定到新的场景上 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_deeplinking_update_url_process"</span>&gt;</span></div><div class="line">        <span class="comment">&lt;!-- 获取当前的URL --&gt;</span></div><div class="line">        copy(adr, browser.location);</div><div class="line">        <span class="comment">&lt;!-- 获取？后的参数信息 --&gt;</span></div><div class="line">        indexoftxt(qi, get(adr), '?');</div><div class="line">        if(qi GT 0, subtxt(adr, adr, 0, get(qi)));</div><div class="line">        copy(si, scene[get(xml.scene)].index);</div><div class="line">        copy(h, view.hlookat);</div><div class="line">        copy(v, view.vlookat);</div><div class="line">        copy(f, view.fov);</div><div class="line">        copy(d, view.distortion);</div><div class="line">        copy(a, view.architectural);</div><div class="line">        clamp(d, 0.0, 1.0);</div><div class="line">        clamp(a, 0.0, 1.0);</div><div class="line">        set(pp, calc(f LT 10 ? 6 : 2));</div><div class="line">        roundval(h, get(pp));</div><div class="line">        roundval(v, get(pp));</div><div class="line">        roundval(f, get(pp));</div><div class="line">        roundval(d, 2);</div><div class="line">        roundval(a, 1);</div><div class="line">        set(adr, calc(adr + '?startscene=' + si + '&amp;amp;startactions=lookat('+h+','+v+','+f+','+d+','+a+');'));</div><div class="line">        js( history.replaceState(null, document.title, get(adr)); );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- reload the scene when there is a special image for VR --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 如果scene标签有havevrimage属性，进入VR重载界面 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_reloadscene_webvr"</span>&gt;</span></div><div class="line">        delayedcall(0.1,</div><div class="line">            if(scene[get(xml.scene)].havevrimage,</div><div class="line">                copy(keeplookingdirection_backup, skin_settings.webvr_gyro_keeplookingdirection);</div><div class="line">                set(skin_settings.webvr_gyro_keeplookingdirection, true);</div><div class="line">                loadscene(get(xml.scene), null, MERGE|KEEPVIEW|KEEPMOVING|KEEPHOTSPOTS|NOPREVIEW, BLEND(0.5));</div><div class="line">                copy(skin_settings.webvr_gyro_keeplookingdirection, keeplookingdirection_backup);</div><div class="line">                delete(keeplookingdirection_backup);</div><div class="line">              );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- videopano support - http://krpano.com/plugins/videoplayer/ --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 加载视频控制条 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_video_addcontrols"</span>&gt;</span></div><div class="line">        set(events[skin_events].onclick, skin_video_clickevent() );</div><div class="line"></div><div class="line">        set(plugin[video].onvideoready, skin_video_updatestate() );</div><div class="line">        set(plugin[video].onvideoplay, skin_video_updatestate() );</div><div class="line">        set(plugin[video].onvideopaused, skin_video_updatestate() );</div><div class="line">        set(plugin[video].onvideocomplete, skin_video_updatestate() );</div><div class="line"></div><div class="line">        if(plugin[video].ispaused AND plugin[video].pausedonstart,</div><div class="line">            set(layer[skin_video_playpause].state, 'visible');</div><div class="line">            set(layer[skin_video_playpause].enabled, true);</div><div class="line">            tween(layer[skin_video_playpause].alpha, 1.0);</div><div class="line">          );</div><div class="line"></div><div class="line">        delayedcall(skin_video_delayedvisible, 0.25, set(layer[skin_video_controls].visible, true) );</div><div class="line"></div><div class="line">        skin_video_updateseekbarwidth();</div><div class="line">        set(layer[skin_video_seekpos].x,0);</div><div class="line">        set(layer[skin_video_loadbar].width,0);</div><div class="line"></div><div class="line">        setinterval(skin_video_seek_updates, 0.5, skin_video_updatetime() );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 去除视频控制条 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_video_removecontrols"</span>&gt;</span></div><div class="line">        stopdelayedcall(skin_video_delayedvisible);</div><div class="line"></div><div class="line">        set(events[skin_events].onclick, null);</div><div class="line"></div><div class="line">        set(layer[skin_video_playpause].alpha, 0.0);</div><div class="line">        set(layer[skin_video_controls].visible, false);</div><div class="line"></div><div class="line">        clearinterval(skin_video_seek_updates);</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 实时更新seek的进度和时间显示 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_video_updatetime"</span>&gt;</span></div><div class="line">        copy(t1, plugin[video].time);</div><div class="line">        copy(t2, plugin[video].totaltime);</div><div class="line">        if(%1 !== null, calc(t1, %1 * t2); );</div><div class="line">        div(t1_min, t1, 60);</div><div class="line">        mod(t1_sec, t1, 60);</div><div class="line">        Math.floor(t1_min);</div><div class="line">        Math.floor(t1_sec);</div><div class="line">        div(t2_min, t2, 60);</div><div class="line">        mod(t2_sec, t2, 60);</div><div class="line">        Math.floor(t2_min);</div><div class="line">        Math.floor(t2_sec);</div><div class="line">        calc(layer[skin_video_time].html, t1_min + ':' + (t1_sec LT 10 ? '0' : '') + t1_sec + ' / ' + t2_min + ':' + (t2_sec LT 10 ? '0' : '') + t2_sec);</div><div class="line">        calc(layer[skin_video_seekpos].x, (t1 / t2 * 100) + '%');</div><div class="line">        calc(layer[skin_video_loadbar].width, (plugin[video].loadedbytes / plugin[video].totalbytes * 100) + '%');</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 更新视频进度空间的宽度 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_video_updateseekbarwidth"</span>&gt;</span></div><div class="line">        if(skin_settings.title,</div><div class="line">            calc(layer[skin_video_seekbar_container].width, 0 - (32 + layer[skin_title].pixelwidth + layer[skin_video_time].pixelwidth));</div><div class="line">            calc(layer[skin_video_seekbar_container].x, layer[skin_title].pixelwidth + 16);</div><div class="line">          ,</div><div class="line">            calc(layer[skin_video_seekbar_container].width, 0 - (24 + layer[skin_video_time].pixelwidth));</div><div class="line">            set(layer[skin_video_seekbar_container].x, 8);</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 跳转到指定的视频进度 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_video_ondownseeking"</span>&gt;</span></div><div class="line">        asyncloop(pressed,</div><div class="line">            screentolayer(skin_video_seekbar, mouse.stagex,mouse.stagey, lx,ly);</div><div class="line">            calc(seekpos, lx / layer[skin_video_seekbar].pixelwidth);</div><div class="line">            clamp(seekpos, 0.0, 1.0);</div><div class="line">            skin_video_updatetime(seekpos);</div><div class="line">          ,</div><div class="line">            plugin[video].seek(calc((seekpos * 100) + '%'));</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 暂停或者显示时的图层 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">layer</span> <span class="attr">name</span>=<span class="string">"skin_video_playpause"</span> <span class="attr">keep</span>=<span class="string">"true"</span></span></div><div class="line">             <span class="attr">style</span>=<span class="string">"skin_base|skin_glow"</span> <span class="attr">crop</span>=<span class="string">"0|640|64|64"</span> <span class="attr">scale</span>=<span class="string">"0.75"</span></div><div class="line">             <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">alpha</span>=<span class="string">"0.0"</span> <span class="attr">autoalpha</span>=<span class="string">"true"</span></div><div class="line">             <span class="attr">state</span>=<span class="string">"hidden"</span></div><div class="line">             <span class="attr">onclick</span>=<span class="string">"skin_video_playpause_click();"</span></div><div class="line">             /&gt;</div><div class="line">    <span class="comment">&lt;!-- 状态变更时更新 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_video_updatestate"</span>&gt;</span></div><div class="line">        calc(layer[skin_video_playpause].crop, plugin[video].ispaused ? '0|640|64|64' : '64|640|64|64');</div><div class="line">        if(plugin[video].iscomplete,</div><div class="line">            set(layer[skin_video_playpause].state, 'visible');</div><div class="line">            tween(layer[skin_video_playpause].alpha, 1.0);</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 点击暂停按钮 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_video_playpause_click"</span>&gt;</span></div><div class="line">        if(plugin[video].ispaused,</div><div class="line">            plugin[video].play();</div><div class="line">            set(layer[skin_video_playpause].state, 'hidden');</div><div class="line">            tween(layer[skin_video_playpause].alpha, 0.0);</div><div class="line">          ,</div><div class="line">            plugin[video].pause();</div><div class="line">            set(layer[skin_video_playpause].state, 'visible');</div><div class="line">            tween(layer[skin_video_playpause].alpha, 1.0);</div><div class="line">            delayedcall(autohide_pp, 2.0, set(layer[skin_video_playpause].state,'hidden'); tween(layer[skin_video_playpause].alpha, 0.0); );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 点击屏幕的事件触发视频播放和暂停 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_video_clickevent"</span>&gt;</span></div><div class="line">        stopdelayedcall(autohide_pp);</div><div class="line"></div><div class="line">        switch(layer[skin_video_playpause].state, 'visible', 'hidden');</div><div class="line"></div><div class="line">        if(layer[skin_video_playpause].state == 'hidden',</div><div class="line">            tween(layer[skin_video_playpause].alpha, 0.0);</div><div class="line">          ,</div><div class="line">            tween(layer[skin_video_playpause].alpha, 1.0);</div><div class="line">            delayedcall(autohide_pp, 2.0, set(layer[skin_video_playpause].state,'hidden'); tween(layer[skin_video_playpause].alpha, 0.0); );</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- context menu - http://krpano.com/docu/xml/#contextmenu --&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 右键按钮菜单 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">contextmenu</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"kr"</span> <span class="attr">caption</span>=<span class="string">"Krpano"</span> <span class="attr">onclick</span>=<span class="string">"openurl('http://www.krpano.com',_blank);"</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"fs"</span> <span class="attr">caption</span>=<span class="string">"FULLSCREEN"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"cc"</span> <span class="attr">caption</span>=<span class="string">"Change Controlmode"</span> <span class="attr">onclick</span>=<span class="string">"skin_changecontrolmode();"</span>  <span class="attr">separator</span>=<span class="string">"true"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"nv"</span> <span class="attr">caption</span>=<span class="string">"Normal View"</span>        <span class="attr">onclick</span>=<span class="string">"skin_view_normal();"</span>        <span class="attr">showif</span>=<span class="string">"view.vlookatrange == 180"</span> <span class="attr">separator</span>=<span class="string">"true"</span>      /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"fv"</span> <span class="attr">caption</span>=<span class="string">"Fisheye View"</span>       <span class="attr">onclick</span>=<span class="string">"skin_view_fisheye();"</span>       <span class="attr">showif</span>=<span class="string">"view.vlookatrange == 180"</span> <span class="attr">devices</span>=<span class="string">"flash|webgl"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"sv"</span> <span class="attr">caption</span>=<span class="string">"Stereographic View"</span> <span class="attr">onclick</span>=<span class="string">"skin_view_stereographic();"</span> <span class="attr">showif</span>=<span class="string">"view.vlookatrange == 180"</span> <span class="attr">devices</span>=<span class="string">"flash|webgl"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"av"</span> <span class="attr">caption</span>=<span class="string">"Architectural View"</span> <span class="attr">onclick</span>=<span class="string">"skin_view_architectural();"</span> <span class="attr">showif</span>=<span class="string">"view.vlookatrange == 180"</span>                       /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"pv"</span> <span class="attr">caption</span>=<span class="string">"Pannini View"</span>       <span class="attr">onclick</span>=<span class="string">"skin_view_pannini();"</span>       <span class="attr">showif</span>=<span class="string">"view.vlookatrange == 180"</span> <span class="attr">devices</span>=<span class="string">"flash|webgl"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"lp"</span> <span class="attr">caption</span>=<span class="string">"Little Planet View"</span> <span class="attr">onclick</span>=<span class="string">"skin_view_littleplanet();"</span>  <span class="attr">showif</span>=<span class="string">"view.vlookatrange == 180"</span> <span class="attr">devices</span>=<span class="string">"flash|webgl"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">contextmenu</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!-- 点击改变控制方式函数 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_changecontrolmode"</span>&gt;</span></div><div class="line">        switch(control.mouse, moveto, drag);</div><div class="line">        switch(control.touch, moveto, drag);</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 以下为不同的全景显示模式 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_view_look_straight"</span>&gt;</span></div><div class="line">        if(view.vlookat LT -80 OR view.vlookat GT +80,</div><div class="line">            tween(view.vlookat, 0.0, 1.0, easeInOutSine);</div><div class="line">            tween(view.fov,     100, distance(150,0.8));</div><div class="line">          );</div><div class="line">        skin_deeplinking_update_url(1.0);</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_view_normal"</span>&gt;</span></div><div class="line">        skin_view_look_straight();</div><div class="line">        tween(view.architectural, 0.0, distance(1.0,0.5));</div><div class="line">        tween(view.pannini,       0.0, distance(1.0,0.5));</div><div class="line">        tween(view.distortion,    0.0, distance(1.0,0.5));</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_view_fisheye"</span>&gt;</span></div><div class="line">        skin_view_look_straight();</div><div class="line">        tween(view.architectural, 0.0,  distance(1.0,0.5));</div><div class="line">        tween(view.pannini,       0.0,  distance(1.0,0.5));</div><div class="line">        tween(view.distortion,    0.35, distance(1.0,0.5));</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_view_architectural"</span>&gt;</span></div><div class="line">        skin_view_look_straight();</div><div class="line">        tween(view.architectural, 1.0, distance(1.0,0.5));</div><div class="line">        tween(view.pannini,       0.0, distance(1.0,0.5));</div><div class="line">        tween(view.distortion,    0.0, distance(1.0,0.5));</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_view_stereographic"</span>&gt;</span></div><div class="line">        skin_view_look_straight();</div><div class="line">        tween(view.architectural, 0.0, distance(1.0,0.5));</div><div class="line">        tween(view.pannini,       0.0, distance(1.0,0.5));</div><div class="line">        tween(view.distortion,    1.0, distance(1.0,0.8));</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_view_pannini"</span>&gt;</span></div><div class="line">        skin_view_look_straight();</div><div class="line">        tween(view.architectural, 0.0, distance(1.0,0.5));</div><div class="line">        tween(view.pannini,       1.0, distance(1.0,0.8));</div><div class="line">        if(view.distortion LT 0.1,</div><div class="line">            tween(view.distortion, 1.0, distance(1.0,0.8));</div><div class="line">          );</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">"skin_view_littleplanet"</span>&gt;</span></div><div class="line">        tween(view.architectural, 0.0, distance(1.0,0.5));</div><div class="line">        tween(view.pannini,       0.0, distance(1.0,0.5));</div><div class="line">        tween(view.distortion,    1.0, distance(1.0,0.8));</div><div class="line">        tween(view.fov,           150, distance(150,0.8));</div><div class="line">        tween(view.vlookat,        90, distance(100,0.8));</div><div class="line">        add(new_hlookat, view.hlookat, 123.0);</div><div class="line">        tween(view.hlookat, get(new_hlookat), distance(100,0.8));</div><div class="line">        skin_deeplinking_update_url(1.0);</div><div class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">krpano</span>&gt;</span></div></pre></td></tr></table></figure>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';       
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);

    var sozzsrc = (document.location.protocol == "http:") ? "http://js.passport.qihucdn.com/11.0.1.js?6934e60f0fcbf5f113646cf0c3c61c6a":"https://jspassport.ssl.qhimg.com/11.0.1.js?6934e60f0fcbf5f113646cf0c3c61c6a";
    document.write('<script src="' + sozzsrc + '" id="sozz"><\/script>');
})();
</script>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2017-11-06T07:06:49.282Z" itemprop="dateUpdated">2017年11月6日 15:06</time>
</span><br>


        欢迎转载,但请申明原链接：<a href="/2017/11/06/krpano/krpano-skin-develop/" target="_blank" rel="external">https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/</a>
    </div>
    <footer>
        <a href="https://austinxishou.github.io">
            <img src="/img/avatar.jpg" alt="AustinXishou">
            AustinXishou
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/krpano/">krpano</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/&title=《Krpano-skin 皮肤详解及配置说明》 — 爵士犀首&pic=https://austinxishou.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/&title=《Krpano-skin 皮肤详解及配置说明》 — 爵士犀首&source=个人技术博客 android详解 网页设计 微信开发 软件定制 个人开发者" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Krpano-skin 皮肤详解及配置说明》 — 爵士犀首&url=https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/&via=https://austinxishou.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2017/11/07/webdesign/JavaScript-module-4-programe/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">require.js详解——Javascript模块化编程(四)</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2017/11/01/android/android-selinux-sepolice-modify/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Android中SELINUX规则分析和语法简介</h4>
      </a>
    </div>
  
</nav>



    










</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷,欢迎再来~
        <i class="icon icon-quote-right"></i>
    </h3>
    <ul class="reward-items">
        
        <li>
            <img src="/img/wechatpay.jpg" title="微信打赏二维码" alt="微信打赏二维码">
            <p>微信</p>
        </li>
        

        
        <li>
            <img src="/img/alipay.jpg" title="支付宝打赏二维码" alt="支付宝打赏二维码">
            <p>支付宝</p>
        </li>
        
    </ul>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            <span>博客内容遵循 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p>
            <span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span>
            <span>爵士犀首 &copy; 2016 - 2018</span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/&title=《Krpano-skin 皮肤详解及配置说明》 — 爵士犀首&pic=https://austinxishou.github.io/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/&title=《Krpano-skin 皮肤详解及配置说明》 — 爵士犀首&source=个人技术博客 android详解 网页设计 微信开发 软件定制 个人开发者" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Krpano-skin 皮肤详解及配置说明》 — 爵士犀首&url=https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/&via=https://austinxishou.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=https://austinxishou.github.io/2017/11/06/krpano/krpano-skin-develop/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACt0lEQVR42u3a0W7CMAwF0P7/T28vexjS2l7bCXTS6RMC2uQEKTZ2jiO+vk6u359e33v9+uzTfJTRhYeHh7do6teDJROqMs5Gn9yFh4eHt4+Xb+i9aeWjXDPyOePh4eE9h5ds/dVUO8+H8fDw8P4jbxI8qpPLlxgPDw/v/bxqoTYpWyRFjfk7y2oteHh4eDEv7yI95/WW/h4eHh7euKuebLh5mtsLJL15/jwBDw8PbwNvUk5N2Nep+eQ5yTzx8PDw9vF6Tax84LzM0Tt6FYUoPDw8vEW8eQKdp7b5k6vNsFHrCw8PD6/Iux44b/n3FqLaTmv+MHh4eHjbeAks346rCfFk+cpfxcPDwxvzkj/283cmRd485ES1Fjw8PLwxr5o6ry1eVJejHCrw8PDw3s6bFCCqSXw5miXLjYeHh7eUl6TF8605PzpQDQY3y4qHh4e3jdcrK/TOdlWfU/0BXl7j4eHhfYjXa+H3ChPJcwohBA8PD28bb36MINncqwl3nr7fVFnw8PDwtvHyVLh84ClupPUOb51+Hw8PD28zr9fsz7f4aosrT+JvihF4eHh4S3nVzXd+WGqefC84dIWHh4c35k2KAr1NfNJsqy4iHh4e3lreqgNPSeqcH5yqBq3TEfHw8PA28JJheiWDSZEiD1TlBcXDw8NbxMuLBXmGXi22ToLHkd+Gh4eHt5RXHbhauu01vXrFZTw8PLzP8iZFivygVa/ptSAw4OHh4Q1gvSNT1ZLupAibt9NeqtR4eHh4S3lr99hJK6u3EFtiIx4eHl7A67Wm8pAwX8Q8MPwxQzw8PLxtvLwx1gsV+yLYTakXDw8P7zG8vDg7CTAJ4GaeeHh4eA/mVZv91TS6mb7j4eHhbeNVCwF5USCZRO+b0bEGPDw8vA286h/+eXEhT5rzZV3Q38PDw8O7530DZdyccXe07IAAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };



</script>

<script src="/js/main.min.js?v=1.4.14"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.4.14" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
